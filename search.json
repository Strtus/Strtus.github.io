[{"title":"胶片成像质量评价标准的体系构建与应用概述","date":"2025-05-06T06:58:17.000Z","url":"/2025/05/06/%E8%83%B6%E7%89%87%E6%88%90%E5%83%8F%E8%B4%A8%E9%87%8F%E8%AF%84%E4%BB%B7%E6%A0%87%E5%87%86%E7%9A%84%E4%BD%93%E7%B3%BB%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%BA%94%E7%94%A8%E6%A6%82%E8%BF%B0/","tags":[["胶片摄影理论","/tags/%E8%83%B6%E7%89%87%E6%91%84%E5%BD%B1%E7%90%86%E8%AE%BA/"]],"categories":[["摄影艺术百年史","/categories/%E6%91%84%E5%BD%B1%E8%89%BA%E6%9C%AF%E7%99%BE%E5%B9%B4%E5%8F%B2/"]],"content":"胶片介质的特殊性胶片通过化学反应记录图像，其记录的信息是连续而非离散的，因此难以直接通过数学方式量化。此外，显影后的胶片图像处理难度较大，无法像数字图像那样方便地进行编辑。这意味着，胶片图像的质量主要依赖胶片本身的性能。 为了客观地测试胶片记录图像的质量，我们主要关注胶片自身的性能指标。以下将介绍一些关键指标，它们不仅有助于全面评价胶片图像质量，还为后续讨论数字图像的质量测试与分析方法奠定基础。 胶片质量的主要指标锐度在胶片中，锐度是指在不同密度区域之间再现清晰细节的能力。对于这种能力，往往采用调制传递函数（MTF）来衡量。 MTF的定义MTF反映了系统在不同空间频率下传递对比度的能力。 通俗地来讲，假设使用胶片记录宽度和间距一致的黑白条纹，如果得到的胶片中黑白条纹的对比度和现实中的完全一样，黑的很黑，白的很白，条纹边界非常清晰，那么其MTF值就为100；但假如得到的胶片中黑白条纹完全混叠在一起，变成一片灰色，完全失去了对比度，那么其MTF值就为0。如果胶片呈现的黑白条纹对比度有所降低，但条纹边界依然存在，那么其MTF值介于0和1之间。 此时通过改变黑白条纹的宽度和间距，就可以理解为在改变胶片记录对象的空间频率，也就可以得到胶片系统在不同空间频率下传递对比度的能力。 MTF值越高，意味着胶片能够更好地呈现场景中的细节与对比度；MTF值越低，说明在拍摄细节丰富的场景时，细节和对比度就会丧失得更多。 测量方法在测量前，先要定义空间频率的概念。空间频率表示在给定距离内一个规则图案重复出现的次数，例如每毫米100个周期。 在测定MTF时，会使用到具有密度和对比度各异的正弦频率图案的测试母版。 将代表不同空间频率、精确划分的黑白图案，接触印像到待评估的胶片上。这种胶片在标准条件下处理，以获得下图中左侧所示的图像。 然后使用微密度计对不同空间频率的图案进行密度测量，得到上图中右侧所示的测量结果。 基于测得的密度值，在胶片特性曲线中找到对应的对数曝光值并求解出线性曝光值。 具体来说，方法如下： 测量光学密度： 使用密度计对图案的不同部分进行测量，得到其光学密度值。这些密度值是单位面积上入射光强与透过光强的比值的对数表示，通常表示为： $$D &#x3D; \\log_{10} \\left( \\frac{I_0}{I_t} \\right)$$其中，$I_0$$是入射光强，$$I_t$是透过光强。 2.查找对数亮度值： 通过胶片或感光材料的特性曲线（通常为密度-对数曝光曲线），查找对应的对数亮度值。特性曲线给出了一定范围内的光学密度与特定曝光量（即对数亮度，通常用$\\lg H$表示）之间的关系。 3.求解线性亮度值： 假设特性曲线给出的对数曝光值为 $\\lg H$$，其中$$H$为线性曝光值。为了将对数曝光值转换为线性曝光值，需要进行指数运算，以便从对数曝光值$lg H$求解出线性曝光值$H$。 接下去就可以利用该空间频率下测得的最高曝光值$H(u){\\mathrm{high}}$与最低曝光值$H(u){\\mathrm{low}}$，计算得到该空间频率下的调制值$M(u)$（可以理解为当前空间频率下正弦函数的振幅），公式如下：$$M(u) &#x3D; \\frac{H(u){\\mathrm{high}} - H(u){\\mathrm{low}}}{H(u){\\mathrm{high}} + H(u){\\mathrm{low}}}$$再利用如下公式分别计算归一化每个空间频率下的$M(u)$（$M(o)$代表空间频率为0时的调制值，即测试母版原生对比度），绘制得到MTF曲线。$$MTF(f) &#x3D; 100% \\times \\frac{M(u)}{M(0)}$$ 在MTF曲线图中，特定空间频率下的响应值越高，意味着图像还原得越好。同时还可以比较不同胶片的MTF曲线图来分析他们对不同频率细节的再现能力。 颗粒度在将胶片负片放大显影在较大尺寸相片上时，胶片的颗粒结构会变得明显；而在普通尺寸的相片中这种情况并不明显。 虽然需要大约50倍的放大才能用肉眼看到感光乳剂中的单个晶体，但由于所谓的“团聚”现象，通常在较低的放大倍率下就能看到颗粒。“团聚”是由颗粒在乳剂中分布不均造成的现象。这在观看者的感知中产生了一种被称为“颗粒感”的感觉。 颗粒度通过一个心理物理技术获得的统计数值来表示，该统计数值反映了均匀曝光处理的感光材料区域中颗粒数量与大小分布的波动。 RMS颗粒度、Selwyn颗粒度、Q系数和其他方法被用来评估颗粒度。在这些方法中，RMS颗粒度由于其简单性以及与视觉颗粒感的良好对应关系而被广泛使用。 RMS的定义RMS（Root Mean Square, 均方根）在统计学中用作标准偏差，表示一组测量值之间的差异，即偏差δ –（短横线代表偏差值的平均）的平方。因此，RMS越低，测得的密度值之间的差异（颗粒度）就越小。 测量方法将待测的感光材料均匀曝光并进行处理。然后，用一个具备极小孔径开口（直径48µm）的微密度计扫描样本（样本的平均密度为1.0），通过计算银盐颗粒或染料云的微小密度变化的标准偏差值来确定RMS。作为一个平均值，密度值的分布大致符合正态分布。 上图中左侧一列为卤化银颗粒或染料云在胶片中的分布；右侧一列为基于微密度计测量的密度变化和值分布；从上到下依次为：精细颗粒分布、中等颗粒分布与粗糙颗粒分布。 具体的RMS计算公式如下：$$RMS &#x3D; \\sqrt{ \\frac{(D_1 - \\overline{D})^2 + (D_2 - \\overline{D})^2 + \\cdots + (D_n - \\overline{D})^2}{n - 1} }$$ 其中，$n$表示测定的密度值总数，$\\overline{D}$ 表示测得的所有密度的平均值$\\overline{D} &#x3D; \\frac{\\sum_{i&#x3D;1}^{n} D_i}{n}$,$D_{n} $代表每次测得的密度值。 动态范围动态范围（Dynamic Range, DR）指相机可捕捉的光强的范围，通常表示为f-Stops或EV（曝光值）。通俗来讲，动态范围描述的是画面从具有影调细节的最暗的阴影部分，到最亮的高光部分的光强度分布范围。当拍摄的场景在亮度上有较大差异时，具有更大动态范围的胶片就能记录更多的影像细节。 胶片的动态范围可以通过分析H&amp;D图像得到，在此之前，先让我们来理解一下H&amp;D曲线。 H&amp;D曲线与测量方法感光材料的乳剂层经曝光和显影加工后，它的透明程度会由于金属银的淀积而降低。乳剂层透明度的降低与许多因素有关，在冲洗过程标准化的前提下，曝光量(H)就成了影响透明度最重要的因素。 为了寻找乳剂层透明程度与曝光量之间的数学关系，19世纪90年代英国两位学者——化学家H-Hurter和工程师V-Driffield用了约十年的时间，终于找到乳剂层中沉淀银的密度与曝光量及适当条件下的显影程度之间的比例关系，并建议用曝光量的对数和阻光率的对数（即密度）作为横纵坐标来表述它们之间的关系。这个坐标系后来被称为H-D曲线，也称为特性曲线，或者，曝光量-密度曲线。 横纵坐标都采用对数表示有着如下的特殊考量： 1.直观和一致的表示： 横坐标（对数曝光量，Log Exposure）：摄影胶片或者感光材料的动态范围通常很宽，曝光量可以在很大范围内变化。如果直接使用曝光量，曲线可能会在某些区域过于压缩，无法有效显示感光材料在不同曝光量下的响应。对数表示能够压缩宽广的曝光范围，使得不同曝光量下的效果更易于对比。 纵坐标（密度，Density）：密度是对数表示的阻光率。由于光线穿透材料时，强度往往呈指数下降，直接使用线性刻度会导致在低透射率（高密度）区域时数据难以区分，对数表示能够有效地体现从完全透光到完全不透光的宽广范围。 2.线性关系便于分析： 使用对数坐标能将非线性的响应关系转化为线性关系，这使得分析、比较和理解变得更加直观和简便。例如，在中间调区域，胶片密度与对数曝光量之间的关系往往呈现出近似线性。 3.符合人眼感知的对数特性： 人类的视觉感知本身具有对数特性。对数曝光和密度的表示方式更加接近人眼对光强和亮度变化的实际感知，更容易让人理解曝光变化对影像的影响。 4.技术标准化和一致性： 使用对数表示的方法已经在摄影、影像科学和各种技术应用中广泛接受和标准化。这样的标准化有助于保持方法和数据的一致性，并且使得不同胶片、曝光条件和处理方法下的结果可以方便地进行对比和交流。 由于曝光量通常用H表示，特性曲线的横标就是$\\lg H$，所以H-D曲线实际是一语双关，既是指Hurter-Driffield曲线，也可以理解为曝光量(H)-密度(D)曲线。 实际上，特性曲线描述的就是胶片显影后不同曝光量与相应密度的关系。密度值来源于一系列胶片试条，这些试条经精确校正的感光计（Sensitometer）曝光，然后在严格标准下进行冲洗。每个试条上的照度（$E$，单位是勒克斯）乘以曝光时间（$t$，单位是秒）得到曝光量（$H$）：$$H &#x3D; E \\times t$$ 其单位是勒克斯-秒（lux-sec），也就是单位面积乳剂层上接受的光的总量。 用密度计测量每个试条上的透光率（Transmittance, T），即透过胶片的光通量$Q_{t}$ 与投射到材料上的光通量（入射光）$Q_{o}$ 之比，计算出阻光率（Opacity, O）。阻光率O等于透光率的倒数，即： $$O &#x3D; \\frac{1}{T} &#x3D; \\frac{Q_o}{Q_t}$$胶片依沉积银颗粒的多少，光线穿透率可以是100%、50%、25%、10%……0.01%，相对的透光率是 1.0、0.5、0.25、0.1……0.0001；相应地，阻光率是1、2、4、10……10,000。这样巨大的数字在制作曲线时很不方便，标尺过小会造成不够精确，故取阻光率O的以10为底的对数，称为密度(Density，D)，即： $$D &#x3D; \\lg O &#x3D; \\lg \\left( \\frac{Q_o}{Q_t} \\right)$$上述数值对应的D就是0.0、0.3、0.6、1.0……4.0。 将H也取以10为底的对数（即$\\lg H$）绘制横坐标，以密度(D)绘制纵坐标得到的曲线即为测试胶片的特性曲线。 4.0一般是胶片所能达到的最高密度，所以纵坐标的最高值一般不大于4.0。横坐标上，曝光量每增加一倍，$\\lg H$增加0.3单位。这可以简单地通过以下方式计算得出： $$\\text{Log Exposure}{\\mathrm{new}} &#x3D; \\log{10}(2 \\cdot E) &#x3D; \\log_{10}(E) + \\log_{10}(2)$$ $$\\Delta \\text{Log Exposure} &#x3D; \\log_{10}(2) \\approx 0.3010$$ 从H&amp;D曲线中读出动态范围 动态范围是由特性曲线的直线部分决定的。趾部、肩部虽然也能对光线作出一部分响应，并不是完全无响应或完全过曝，而且有些专业人士还非常擅长从趾部和肩部还原信息。但是，由于趾部和肩部存在严重的影调或细节失真，不能很好再现实际场景，因此作为一个普遍接受的概念，仍然只有胶片的直线响应区被认为是胶片的宽容度（上图中Film Latitude对应区域）。 例如，直线区横坐标跨越2.1单位，那么该胶片的宽容度是2.1&#x2F;0.3 &#x3D; 7，也就是该胶片有7档的宽容度。胶片的宽容度受到显影条件的影响，显影时间延长，平均梯度增大，宽容度要减小。 其他可从H&amp;D曲线中读出的信息H&amp;D曲线除了包含胶片的动态范围信息外，还可以读出一些与图像成像质量并不直接相关，但在拍摄过程中不考虑就会获得不可用图像的指标。 感光度 感光度是胶片固有的对光反应的敏感性，是与在一定显影条件下产生的一定摄影效果的曝光量成反比的值。通俗地说，就是高感光度的胶片只需较少曝光量即能达到低感光度的胶片需较多曝光量所能达到的摄影效果。 感光度的测定是基于特性曲线计算出来的。以黑白片为例，美国标准协会(American Standard Association, ASA)是这样规定的：在求取特性曲线时，试条曝光后在指定的条件下进行精确控制显影，使得显影后获得的特性曲线满足以下条件——以曲线中灰雾+片基密度+0.1的密度为基准点，该基准点处的曝光量对数+1.3相对应的密度值应该等于0.8。如果符合这个条件，那么感光度S等于0.8除以基准点的曝光量。 例如，如果某黑白片的基准点曝光量是0.004lux&#x2F;s，那么这款胶片的感光度就是0.8&#x2F;0.004&#x3D;200，如果是0.008lux&#x2F;s，那么感光度就是100。 反差 指的是胶片中明暗色调的对比，通常所谓的胶片表现“平、软”或“层次鲜明、硬”实际就是在描述反差。 胶片的反差由特性曲线的斜率来体现。一般而言，曲线的斜率越陡峭，胶片的反差越高。常用Gamma值或平均梯度(Average Gradient)来量化反差。 Gamma就是特性曲线的直线区的斜率。Gamma不代表趾区和肩区的的反差，因此超出直线区的部分，如强高光部和暗部的反差不能用Gamma来描述。 平均梯度指的是特性曲线的两段连线的平均斜率，因此涵盖了趾区、直线区和肩区的影调。 胶片的Gamma值或平均梯度会因显影时间不同而改变，因此黑白负片一般会在Data Sheet里给出Time-Gamma曲线，可以根据这个曲线去对Gamma或平均梯度进行调控。但是，黑白反转片和所有彩色片的显影是标准化过程，无法用Gamma曲线去控制。 为了降低胶片的总体反差，可以在显影前对胶片用均匀光线进行闪光曝光，实际上就是提高胶片的灰雾密度，所以也称之为闪灰。"},{"title":"染料型黑白显影液简介","date":"2025-04-11T07:10:12.000Z","url":"/2025/04/11/%E9%BB%91%E7%99%BD%E6%98%BE%E5%BD%B1%E6%B6%B2%E7%AE%80%E4%BB%8B/","tags":[["暗房技术","/tags/%E6%9A%97%E6%88%BF%E6%8A%80%E6%9C%AF/"]],"categories":[["摄影艺术百年史","/categories/%E6%91%84%E5%BD%B1%E8%89%BA%E6%9C%AF%E7%99%BE%E5%B9%B4%E5%8F%B2/"]],"content":"染料型显影液作为黑白显影液的一个分支，国内使用相对较少，同时也由于原料的危险性造成使用群体的小众，这里便结合不同的资料，对这一类显影液做一个综合介绍。对于上古时期的配方，由于在摄影变革中被彻底淘汰，这里也不做介绍，公开配方可以很方便的搜到。 序言什么是染色型显影液？染色型显影液（Staining Developer）主要指会对底片明胶Tanning（鞣制）和 Staining（染色）的黑白显影液，比较常见的显影主剂是连苯三酚（Pyrogallol，CAS号87-66-1）与邻苯二酚（Catechol，CAS号120-80-9）。在海外摄影圈内，狭义的染色型显影液是含有连苯三酚的显影液，并不包含邻苯二酚，而广义染色型显影液不仅可以包括上述二者，某些情况下普通的对苯二酚也可以包括在内。 这里需要将Tanning（鞣制）和 Staining（染色）两个概念进行一个简要解释。Staining染色的主要原因是显影液的氧化产物对底片进行了染色，并且与底片曝光量成比例。也就是说，底片密度越大的地方（高光区域）染色越多，密度越小的地方（阴影区域）染色越少。上述染色被称为局部染色，而另一种染色为全面染色，与图像无关，像是灰雾一般留在底片上。底片染色由染色颜色变得非常重要，因为这与暗房相纸有密切的关系。暗房相纸基本上分成三类：主要感蓝的定号相纸、对不同比例蓝绿感光的可变反差相纸以及对紫外感光的接触印相相纸。染色底片对定号相纸与接触印相相纸的作用基本一致：增加反差；而对于可变反差相纸的作用更加复杂一点，染色所带来的黄镜效果起到了可变反差滤镜的效果，在减小高光反差的同时增大了阴影反差。另一方面对于底片来说，负相由含银图像与叠加的染色图像构成。由于有染色的存在，对于一定的放大密度来说，含银密度就不需要这么多（染色部分提供一定密度），直接带来更少的颗粒。Tanning鞣制使得乳剂按曝光量成比例硬化，在底片上形成了类似浮雕的效果，同时抑制显影液深入乳剂以及高低密度之间，形成了独有的邻接效应，提升了锐度，减少了颗粒。 染色型显影液的历史连苯三酚的应用起源于1851年，由Regnault引入，同年首次由Frederick Scott Archer应用于湿板火棉胶摄影，在19世纪连苯三酚是美国西海岸众多湿板摄影师的显影剂最爱。邻苯二酚（英语语境下Pyrocatechin, Pyrocatechol, Catechol均指邻苯二酚）于1880年引入，但使用并不是那么广泛。但是到了1910年后连苯三酚开始失宠，被其他显影剂替代，主要原因包括容易氧化导致快速失去活性、难以控制染色强度、底片速度的损失等，具体会在后文进行阐述。而在之后的数十年内染色型显影液一直以连苯三酚为主剂的三液配方ABC Pyro存在，直至1977年John Wimberley在Peterson’s Photographic发表了新配方WD2D，使用米吐尔和连苯三酚双显影剂，达到了更好的底片速度，同时并未产生更明显的颗粒。该配方目前依然在被使用，并且有了改良配方WD2D+。目前主流在使用的连苯三酚配方显影液是Gordon Hutchings于1991年推出的PMK配方，其本人将PMK描述为一种适应现代乳剂、易用、以最大图像染色与最低全面染色为目标的显影液。近些年各种配方接连出现，Rollo Pyro&#x2F;ABC+，DiaXactol和Pyrocat-HD等配方开始活跃，扩充了染色型显影液的队伍。 染色型显影液的特性与构成显影主剂：连苯三酚与邻苯二酚作为染色型显影液系统里的常青树，连苯三酚在20世纪的摄影界被广泛描述为具有提供比其他类型显影剂更清晰的色调分离，在低稀释度下高反差、在高稀释度下带来柔和的软调的特性，具有高度的灵活性。单一连苯三酚作为主剂会带来底片速度的损失，而其他显影主剂和连苯三酚的结合使用可以很好的解决这一问题。邻苯二酚同样具有染色的效果，但限于局部染色，银密度越大，染色越强，同时具有比连苯三酚更好的稳定性与可靠性。在一些售卖的商业显影液内比如HC-110，也能见到邻苯二酚的身影。 连苯三酚与邻苯二酚只在酸性条件下稳定，而当其在和高比例亚硫酸盐或碳酸盐混合时会迅速失活。同时由于显影pH激活阈值较高（连苯三酚为8.0，邻苯二酚为9.5），因此大部分的单液配方工作液都不具有较长的“可用保质期”，或是采用双液配方，将碱与显影剂分开储存。对于连苯三酚来说，染色强度取决于摇罐频率与手法、显影液中保护剂的多少、单位面积下使用显影剂的多少等因素，导致染色强度难以控制。 根据Lumiere-Andreson定则，显影强度顺序可以排列为连苯三酚&gt;对苯二酚(70%连苯三酚)&gt;邻苯二酚(50%连苯三酚)，对苯二酚与邻苯二酚由于在苯环上均有两个羟基，因此性质类似，推测可通过换算比例进行替代。邻苯二酚相对于连苯三酚，具有更加灵活的应用场景，比如低反差（Windisch配方）、高锐度（Pyrocat-HD）、超微粒（Meritol）等。但由于比连苯三酚要求更高的pH阈值，因此对碱的要求会更高，同时工作液氧化更快。 染色型显影液的优劣不少海外摄影师都将使用染色型显影液作为一种cult来看，而在他们认为，基于实证研究和理论结论，有如下好处： I. 由于图像染色与含银量成正比，染色在银密度上进一步形成遮罩，因此显著提升图像影调并且减少颗粒度，该现象在高光区域尤为明显。 II. 由于焦酚提供比其他显影液更显著边缘效应，高光的分离与锐度得到提升。这主要是由于在显影过程中卤化银颗粒迁移量极小，导致图像还原更加精确，同时带来锐度的提升；而事实上绝大部分非溶银类（Non-Solvent）的显影液都是减少或几乎没有银的迁移来提升锐度的，代价就是颗粒边缘更“生硬”，视觉上来说就是颗粒更大，最典型的就是雷电露。同时焦酚在显影过程中对乳剂染色并硬化，因此减少了光渗效应（光线在底片乳剂内的散射）与过度显影边缘扩散（银显影过程中的扩散超出了图像“确切边界”，在两个显影速度不一致的边缘，因为扩散的缘故显影速度快的那一边会出现轻微的过显，类似于在主体边缘出现了一些“描边”一样的光晕）。 III. 当底片放大至可变反差相纸上时，焦酚形成的染色就像色罩一样减少了放大图像的反差，在高光部分尤为明显。这种现象可以在不压缩高光的情况下更好的在纸上表现阴影与中间调。 IV. 一底两用。焦酚显影的底片可以同时用于普通放大相纸的放大和诸如铂钯工艺的接触印相。对于铂钯工艺要求的高密度底片，使用普通显影液显影是无法做到的。然而对于染色过的负片存在两种底片密度，使用蓝绿光的普通放大与使用紫外线的接触印相。当使用一般可变反差相纸进行放大时，染色密度最大的高光部分像可变反差滤镜一般进行影调压缩，从而实现高反差范围的放大；另一方面，在使用紫外线进行曝光的接触印相中，染色部分能起到高效率UV滤镜作用，从而增加多达1档的曝光时间并且通过提升log0.3的密度提高了反差，直到特性曲线的顶端。这造成的结果就是染色过的负片可以满足UV印相相对更高的密度。 但染色型显影液也有诸多弊端，因此很多摄影师不愿意使用甚至抵触使用焦酚显影。一些弊端如下： I. 毒性。连苯三酚与邻苯二酚都是具有剧毒的化学原料，但对于大部分摄影师来说，面临的主要问题是皮肤吸收与呼吸吸入粉末。接触所有此类化学品尤其是暗室盘显时必须佩戴手套，并且当需要配置含有连苯三酚或邻苯二酚的显影液时，去室外或者增加通风。 II. 损失底片速度。不像常规显影液那样，不少焦酚显影液都不能完整利用底片速度。单一连苯三酚为主剂的显影配方可能会有多达1档的速度损失，而不同的显影配方速度的损失是不一样的。 III. 显影结果难以控制。图像染色的密度取决于摇罐手法与频率、显影液中保护剂的量、单位面积使用显影液的量等因素，造成染色过程较难控制，对于同一批次拍摄的底片来说很难保证底片在冲洗上尽量保持一致性。此外对于大画幅页片，由于面积的增大导致操作的不便利，直接影响显影的过程，可能会在高光部分出现明显的分层痕迹，这对于图像也是不利的。 IV. 底片适用性。诸如PMK与ABC-Pyro设计时都是给大画幅页片提供指导，对于卷（roll film）则没有过多的说明。虽然Pyrocat-HD的发明者Sandy King声称能够很好的冲洗35mm底片，但还是需要在使用时多加注意。 V. 不稳定。由于连苯三酚与邻苯二酚仅在酸性条件下保持稳定，而显影激活pH阈值均为碱性，因此配好的工作液使用寿命很短，极易氧化。这对于不少冲洗条件不佳的摄影师来说是一个很大的挑战。 染色型显影液的构成我们大部分看到的染色型显影液都是双液配方，也有单液或三液。常见双液配方有PMK、Pyrocat-HD及其变体、WD2D等。由于上文提到的极易氧化特性，碱液一般位于B液，B液常见使用的碱为碳酸钾与碳酸钠，PMK比较特殊用的偏硼酸钠（也就是PMK里的K，Kodalk），也有比较极端用氢氧化钠或氢氧化钾的配方；A液一般包含显影剂和保护剂，有时在A或B液内也会加入适量防灰雾剂比如溴化钾。三液配方就是经典的ABC Pyro，A液比较常规，B液为大量的保护剂主要是亚硫酸钠，C液为碱，这一定程度上保护了连苯三酚不快速变质；单液配方主要就是510-Pyro，这款显影液非常取巧，用的三乙醇胺(TEA)作为溶剂，在有效防止氧溶解的同时起到提供碱性的作用，并且使用菲尼酮、连苯三酚和抗坏血酸作为显影剂。 冲洗方法显影手法根据Sandy King以及Gordon Hutchings提出的方法，染色型显影液冲洗过程大致如下： I. 预湿。使用比显影温度高1摄氏度的水预湿5分钟。这一步对于焦酚药很关键，焦酚药属于深层显影药，底片浸入药水的第一分钟非常关键，预湿可以让明胶充分吸收水分，在显影液接触到乳剂时不会造成不均匀的乳剂膨胀。 II. 显影。摇晃方式取决于显影类型，如PMK要求前30秒持续摇晃，后每15秒摇晃2次，Pyrocat-HD要求前1分钟持续摇晃，后每1分钟，摇晃5-10秒。 III. 停显。可以用水清洗2-3次，也可以用普通停显工作液1&#x2F;4-1&#x2F;2强度的停显，过强的酸性会减少染色强度。 IV. 定影。使用中性定影液定影，或者使用不含有坚膜剂的以硫代硫酸铵为主要成分的定影液，Sandy King指出Kodak和Ilford的快速定影都是可用的。 V. 后浴。仅对于特定显影液需要，诸如Pyrocat-HD等不需要此步。将步骤III中的显影液全部倒回冲洗罐，每30秒摇晃一次，保持2分钟。这有助于染色的进一步加深。或者使用碱性后浴也可以，配方是1茶匙偏硼酸钠加入1L水中。当然，实际使用中后浴实际上只会增加全面染色，对于银盐或者扫描流程没有很大的必要性。 VI. 水洗。在流水中清洗底片20-30分钟，至少需要20分钟，因为染色会在水洗过程中加强。如果需要节约用水，每次3-5分钟的水洗一共6次足够，但是第一次水洗需要不断摇晃。 VII. 终洗。此步可选。如果使用未经过滤的水进行上一步水洗，需要在最后一步水洗使用蒸馏水或去离子水。后续可选使用去水渍液或稳定液以稳定染色。 额外显影技巧上述提到的摇晃手法是罐显摇晃，但是针对不同的底片，还有其他的方法。 I. 盘显(Tray Processing)。一般来说，显影盘的尺寸必须大于底片尺寸，比如需要8x10的显影盘显影4x5或者5x7页片，11x14显影盘显影8x10页片。为了避免底片刮伤，建议一次只洗一张页片。显影全过程都需要戴手套以避免化学品危险。页片放入之后的搅动方式同罐显，不过这边是把摇罐改为前后晃动显影盘。 II. 滚冲(Rotary Tube Processing)。基本上所有的焦酚药在设计之初都是以大尺寸页片盘显为导向，但由于现代底片的发展、冲洗方式的变化等因素，使得摄影师开始考虑使用焦酚药冲洗小尺寸卷片。目前经过发明者或论坛实验证明滚冲没什么问题的配方有Pyrocat-HD、510 Pyro等。PMK这一款配方在多位作者与论坛讨论的反馈内指出并不很适合滚冲，会出现包括但不限于高强度全面染色、乳剂面出现条痕、由底片与冲洗罐壁接触在乳剂背面产生不寻常的压痕等。因此对待焦酚药滚冲需要特别参考前人的经验或在拍摄前进行测试。同时需要注意的是，由于极易氧化的特性，需要将滚冲转速降低以适应合适的冲洗。 染色型显影液配方与对比这里将分享几个已经公开的焦酚药配方，为了便利这里放的是一些常见的、经过大量试验并且有大量冲洗数据的配方供参考，小众的没给出具体数据的就不放了。 510 Pyro三乙醇胺 75ml 抗坏血酸 5g 连苯三酚 10g 菲尼酮 0.375g 加三乙醇胺至 100ml 使用稀释比例1+100。 ABC PyroA液 蒸馏水 750ml 亚硫酸氢钠 9.8g 连苯三酚 60g 溴化钾 1.1g 加水至 1000ml B液 蒸馏水 750ml 无水亚硫酸钠 105g 加水至 1000ml C液 蒸馏水 750ml 无水碳酸钠 85g 加水至 1000ml 使用稀释比例1+1+1+15，并可根据显影环境调整比例 PMKA液 蒸馏水 400ml 米吐尔 5g 亚硫酸氢钠 10g 连苯三酚 50g 加水至 500ml B液 蒸馏水 700ml 偏硼酸钠 300g 加水至 1000ml 稀释比例1+1+100 Pyrocat-HDA液 蒸馏水 750ml 焦亚硫酸钠 10g 邻苯二酚 50g 菲尼酮 2g 溴化钾 1g 加水至1L B液 蒸馏水 700ml 碳酸钾 750g 加水至 1L 稀释比例1+1+100 WD2DA液 蒸馏水 800ml 米吐尔 3g 亚硫酸氢钠 10g 连苯三酚 30g 加水至 1000ml B液 蒸馏水 800ml 一水合碳酸钠 40g 1%苯骈三氮唑溶液 4ml 加水至 1000ml 稀释比例正常反差10+10+200，低反差10+9+200，高反差10+11+200 染色型显影液对比上面列举了不少配方，有老的有新的，但并不意味着新的就可以淘汰老的，510 Pyro和ABC Pyro目前也有不少人在用，这个完全是看个人的选择。针对最原始的配方，实际上也不是一成不变的，一部分摄影师会针对自己的需求进行配方调整。Jay DeFehr将510 Pyro中菲尼酮的量从0.25g调整至0.375g以均衡VC、菲尼酮、连苯三酚的关系；Bob Herbst在Platinum and Palladium Printing一书附录中针对WD2D原始配方先将苯骈三氮唑更换为溴化钾后又去除以解决反差和灰雾问题。但是综合来看，迈入新千年后，现代配方也逐渐登上舞台，德国Moersch的Finol就是比较经典的案例，使用邻苯二酚、连苯三酚和CD-1作为显影剂，是一个比较好玩的配方了，历史上也有使用彩色显影剂在黑白显影中的配方比如FX-10，CD-2、CD-3都算是对苯二胺（PPD）的衍生品，这里利用的是PPD超强的溶银性来达到超微粒特性。 如果观察上面列出的配方不难发现，PMK和WD2D都是具有米吐尔：连苯三酚为1：10的特性，区别就在于B液的碱，就直接造成了染色颜色的不同，这个针对扫描无伤大雅，但是针对放大或者古典工艺就有一定的影响了。因此，认识与了解不同显影液的区别我觉得要从化学配方的性质出发，自己亲身试验不同配方之间的区别。当然，可以淘汰一部分太老的配方，目前活跃在论坛上的基本都算是经典配方了。 经典配方PMK 和Pyrocat-HD终于到本文比较重要的环节了。这里我选择了两款个人比较喜欢并且也在使用的染色显影液来进行简单介绍。 PMKPMK由Gordon Hutchings发明，设计目标为适应多种环境下现代乳剂胶片的冲洗，并且在涉及配方时Hutchings提出了四大目标：批量显影稳定性、完整乳剂速度、最大图像染色、最小全面染色。 纵观配方，PMK具有下面几项比较有趣的特性： I. 无抑制剂。基本所有配方都会添加抑制剂以减少灰雾水平，但是大部分抑制剂尤其是苯骈三氮唑会削减锐度 II. 相对较低的pH。对于之前几乎所有版本配方的焦酚药来说，需要依赖碳酸盐来获得碱性激活环境以实现高pH与相对较短的显影时间。但这一现象有时会提高底片灰雾，同时根据Hutchings反馈，可能也会产生全面染色而非特定图像染色。PMK这里使用了偏硼酸钠(Kodalk)作为碱，实现了比之前的焦酚药低一个单位的pH。更换碱后的效果是更小的灰雾与颗粒度、更好的稳定性、更强的图像染色 III. 显影剂的量刚好实现了达成上述的设计目标 PMK使用稀释比例一般为1+2+100，并且不建议随意更改比例，只有在特殊需求情况下可进行比例更改。显影温度为21摄氏度，并且每升高1摄氏度，显影时间需要减少4%.。并且Hutchings也推荐使用26.67摄氏度(80华氏度)显影温度，以实现更短的显影时间与更小的摇动，该温度下显影时间是21摄氏度下的70%。Hutchings同时说明显影最高温度为29.44摄氏度(85华氏度)。 如果PMK使用Jobo或其他滚冲系统，则会面临以下两个问题： I. 转速过高 II. 对于满罐冲洗，冲洗机马达可能带不动。而半罐冲洗会带来额外的氧化，一定程度上过早失效。 而在The Darkroom Cookbook一书中，作者Steve Anchell提出了下面三种解决方案： I. 先以半罐子的显影液量进行冲洗，冲洗到时间的一半倒出这部分显影液，灌入新配制的PMK工作液 II. 对每1L的PMK工作液加入0.3g无水亚硫酸钠 III. 配置工作液时，额外增加30%的A液 但是在使用PMK冲洗时，底片可能会出现一些问题，Bergger的PMK文档中对此说明如下： I. 底片边缘有污点。这是由于底片边缘药水的流动方式造成的。药水流动方式是造成显影工作液以集中方式而非随机流动方式的一个原因，而另一方面这些污点可能也说明底片没有受到足够的搅动 II. 底片图像上高密度的药水流动痕迹。这是由于一些重复性动作或物理性干扰造成的。更加随机与剧烈的摇晃会消除这一现象，或者将这些痕迹限制存在于底片边缘。可以尝试更频繁与更短的摇晃周期，但是如果现象依然存在，就需要考虑是不是冲洗系统的物理因素了 III. 具有可以看出边缘的斑点状显影区域，通常在放大或接触印象中更明显。这一般直接说明显影液有污染，焦酚药对化学品污染极为敏感。因此在冲洗前需要清洗所有的显影盘、冲洗罐、片芯等设备，并使用蒸馏水配置工作液 IV. 出现边缘清晰的低密度斑点、不同密度条纹与高密度细线。这通常是由于底片湿润问题。底片浸入焦酚药的第一分钟非常的关键。尽管所有的明胶乳剂在水中都会膨胀，但是在碱性溶液中膨胀更快，而不均匀膨胀的乳剂对焦酚药非常敏感。因此如果在焦酚药坚膜作用发生之前乳剂没有完全和均匀的膨胀，那么不均匀的显影一定会发生。因此需要对底片进行预湿，将时间延长至3-5分钟或者使用高于显影温度2.78摄氏度但总体不超过28.3摄氏度的水进行预湿 V. 与染色颜色成比例的额外银密度造成的黑色底片。这种情况极为罕见，一般是由于底片类型和过曝同时造成的。对于同一批拍摄的同一种底片，需要调整曝光底片的ISO指数，将显影液稀释25%，并且延长显影时间至少15-25% VI. 存在像微小笔触一般的深色痕迹、高密度中心清晰圆环斑点、中心清晰的不规则深色痕迹、呈现出“橘皮”样式的紫色污渍与密集出现的斑驳状痕迹等。这些问题基本都是由于重金属污染引发的。对于大部分情况来说，都是水质污染。推荐使用蒸馏水配置工作液。 Pyrocat-HDPyrocat-HD由Sandy King发明，旨在设计一款能够同时适应滚冲、冲洗鼓、机械摇晃机、间歇性摇晃盘显、半静置罐显的显影配方。该显影配方选择邻苯二酚以解决连苯三酚在滚冲时造成高灰雾与不均匀染色和少量摇晃时造成条纹与斑点的问题。Pyrocat-HD具有下面这些特性： I. 底片高锐度与放大高锐度。测试证明Pyrocat-HD锐度优于PMK与FX-2。 II. 紧密的颗粒排布，并且同时适合35mm底片与大画幅页片。 III. 快速显影。在1+1+100这种高稀释比例下，Pyrocat-HD具有比PMK与WD2D显影以达到同样反差指数更短的时间。 IV. 显影较为干净，极低水平的全面染色。长时间显影也不会有问题的特性非常适合需要高反差情况的接触印象。 V. 工作液组分统一，使用滚冲完全不担心不均匀显影与条纹斑点问题。 VI. 使用罐冲卷片时可以使用半静置显影以发挥出非常显著的邻界效应实现高锐度。 VII. 在同样反差指数下，Pyrocat-HD在使用1+1+100显影时可以让底片获得略微更高的底片速度。 VIII. Pyrocat-HD更适合一底两用，即同一张底片可以既用来普通放大也可以做接触印象。 IX. 当放大至可变反差相纸时，使用Pyrocat-HD显影的底片在稍亮的中间调与高光部分能获得比连苯三酚为显影剂的显影液更高的反差。 X. 性价比高。Pyrocat-HD的配方价格比连苯三酚为显影剂的显影液便宜。 这里关于配药依然遵循普遍的配药原则。加入一种化学品后不断搅拌直到完全溶解了再加下一种，并且需要按照顺序加入。这里需要注意，碳酸钾容易潮解，因此必须放在一个相对密闭的容器内。对于需要放大在普通相纸上，使用1+1+100比例，对于使用接触印象，使用2+2+100，并且配置建议使用蒸馏水。 针对Pyrocat-HD，Sand King也给出了两种变体Pyrocat-P和Pyrocat-M，分别使用5g对氨基苯酚和2.5g米吐尔替代上述配方里2g菲尼酮，同时Sandy King建议使用在这两种变体中使用1g碘化钾替代1g溴化钾以提升锐度与减少灰雾。Pyrocat-HD中可以用碳酸钠替代碳酸钾。这两种碳酸盐在显影表现中几乎一致并且在配方内有几乎一致的重量。但是碳酸钠相比碳酸钾更难溶解，因此配置时需要考虑该工作液是药力相对更弱的。如果需要配置含有碳酸钠的B液，将200g碳酸钠加入1000ml水，并且对于正常放大的情况使用1+5+94来达成碳酸钾情况下的1+1+100比例的效果，对于接触印象的情况使用2+10+92来达成碳酸钾情况下的2+2+100。对于其他大部分情况，使用1+5+100或2+10+100并且对显影时间进行少量调整。 这里一部分人会使用10%氢氧化钠溶液来替代掉B液碳酸盐。这看起来OK但是碱性的增强会带来少量颗粒度的增加，因此在干这事儿前做一些测试。如果真的需要用10%氢氧化钠作为B液，使用1+1.5+100来达到碳酸钾情况下的2+2+100.但是由于颗粒增加了，因此这种情况只推荐用来做接触印象。 针对滚冲，Sandy King做了额外补充。对于Jobo系统来说，滚冲速度应该设定在最慢速的挡位，我自己的CPP是25rpm。这是由于高转速会直接大幅度增加全面染色。如果转速降不下来，还有其他方法来减弱全面染色。在碱性环境下焦酚药的氧化主要取决于工作液内亚硫酸钠的比例。在大部分形式的冲洗中，Pyrocat-HD只需要极少量的硫化物来避免过度全面染色，而这部分硫化物由A液中少量的亚硫酸氢钠提供，为工作液起到保护剂与和碳酸钾反应生成硫化物的作用。但是当滚冲转速过高时，这点硫化物不够用，可能会造成过度全面染色。为解决这个问题，可以配置工作液时加入额外30%的A液或者在每升工作液内加入0.3g亚硫酸钠。这两个举措可以很好的减缓氧化。 对于大部分人冲洗，应该都是手摇罐子。Pyrocat-HD不像PMK需要剧烈的摇晃，并且对于大部分卷来说，少量摇晃足够让显影成功。下面是几种Sandy King推荐的摇罐手法。 I. 正常摇晃。前1分钟持续摇晃，后每30-60秒摇晃5-10秒。该种手法和普通显影液毫无差异。 II. 少量摇晃。前1分钟持续摇晃，后每第3分钟摇晃10秒。在这种手法下，5分钟的预湿非常必要以消除气泡的出现。该种手法可以实现高锐度、补偿特性与乳剂速度的提升。注意针对这种手法，需要把普通显影时间延长50%。 III. 静置显影。这是一种使用超高稀释度显影液配合超长显影时间的手法。这是在最大化利用邻界效应以实现最高锐度，同时给予最大化乳剂速度与补偿效应。但是在实际应用中经常会出现失误，该种方法不适合部分类型的底片尤其是高速底片。因此对于该种方法使用起来应经过考虑，并且做好足够的图像备份。静置显影必须要在显影前做5分钟的预湿以消除气泡。工作液比例大致为2+2+400~500，前1分钟持续剧烈摇晃，后面就放桌上等显影结束就OK了。整个显影时间大概在45-60分钟。 一种特殊的显影手法：双浴显影综合介绍下面要介绍的这种显影手法完全不同于所有常规的显影，该手法被称为双浴显影（Two-Bath Development）。首先，这不是一种需要被广泛采用的显影手法，但是可以看作常规单浴显影的额外替代。 这种显影手法相当古老，最早由E. Audra于1885年提出。双浴显影在上世纪3-40年代比较流行，并且Neblette在其著作‘Photography: Its Principles and Practice’中将双浴显影分为三类： I. A液为所有显影剂与部分亚硫酸盐，B液为碱与剩余的亚硫酸盐 II. A、B液均包含显影剂、亚硫酸盐与碱，只不过比例不同 III. 具有相似成分的双浴显影液 双浴显影可同时适用于35mm卷片和大画幅页片，但是并不像一般显影液那样通用。双浴显影很大程度上限于需要在负片上有补偿效应的显影。 显影原理传统单浴黑白显影工作液一般含有还原剂与碱性加速剂，而双浴显影中这两种成分位于单独的工作液中。最常见的双浴显影形式如含有还原剂与少量作为防腐剂的亚硫酸盐的A液，与含有碱的B液。将A液倒入冲洗罐中，因为A液不含碱，无法激活显影，所以底片只吸收还原剂而不形成图像；倒出A液，倒入含有碱的B液，由于此时构成乳剂成分的明胶已经吸收了A液的显影剂，在碱性环境下，银盐被转化为金属银，形成图像。 负片图像最终的反差高低取决于在第一浴中吸收还原剂的多少。当底片接触到B液时，高光部分首先显影，但由于该区域显影剂耗尽便很快停止显影，但阴影区继续显影。如果使用了稀释过的工作液，即使拍摄场景为高反差场景，过度显影也有可能出现。 现实中的双浴显影：以Pyrocat-HD为例在实践中，已经发现绝大多数的双浴配方（包括双浴版本的D23与D76）的A液，当含有一定量的亚硫酸钠作为防腐剂时，能提供足够的碱性，使得一种或多种显影剂被激活，在底片上形成了图像。这导致在进行第二浴之前，高光区域的还原剂某种程度上已经被耗尽。 Pyrocat-HD双浴显影与上述的不同之处在于，A液含有的亚硫酸盐不足以激活显影剂菲尼酮或邻苯二酚中的任何一种。而当胶片浸入B液时，由于高pH值导致高光部分的显影剂会在一瞬间被耗尽。这将带来显著的邻接效应与微反差的极佳表现。 优势采用双浴显影的底片有以下几个优势： I. 全乳剂速度，或在很多情况下有效曝光指数EI可增加一档 II. 可对高反差场景下拍摄的底片进行极端的补偿 III. 大部分双浴显影的底片在特性曲线上都具有相当长的直线区域，从趾部到肩部几乎具有完美的线性密度 IV. 非常高的锐度 针对Pyrocat-HD时，不仅是原始配方-HD适用于双浴显影，其变体-M、-MC、-P等同样适合，并且都具有极细颗粒、极高锐度，与较好的图像染色。 针对将底片主要用于扫描的用户来说，Pyrocat-HD的双浴显影能够在不损失底片速度的情况下进行极端补偿。无论拍摄场景的反差如何，只需要对着想要细节的阴影最深处进行曝光，而后进行双浴显影，能得到较好的阴影细节、线性直线区以及在扫描仪动态范围内的高光表现。 相对于区域曝光理论以及BTZS理论，双浴显影具有以下优势： I. 简化工作流，但唯一的要求是对于阴影区域必须准确曝光 II. 所有类型底片都可一锅一起冲洗；在一些情况下，不同的底片甚至也可以一起冲洗 III. 负片将具有较低的反差指数，减少了颗粒并且加强了锐度 IV. 基于III，底片将更加容易扫描成数字文件 反差控制这里依然以Pyrocat-HD为例，可以通过三种方法来控制某一特定胶片的反差指数，以效率降序排列： I. 调整A、B工作液浓度。低稀释比例产生的反差会强于高稀释比例 II. 调整A、B工作液显影时间。更长的显影时间会在某种程度上增大反差 III. 调整A、B工作液显影温度。温度调整将影响乳剂中明胶的膨胀水平，温度的上升将带来更多的膨胀，从而吸收更多的还原剂，提高反差 冲洗手法：以Pyrocat-HD为例即使是在双浴显影，底片预湿也是有必要的，具体细节请参考上文。 6.6.1. 双浴显影步骤：滚冲 首先要保证滚冲时液面完全没过胶片。A、B工作液的稀释比例均为1+20，其中需要在A工作液中滴入几滴Kodak Photo-Flo。冲洗温度在20-25摄氏度间即可，这里给出的温度是75F，约为23.89C。在此种温度下A、B液冲洗时间均为5分钟。以下是冲洗步骤： I. 将底片浸泡在与冲洗同温度的纯净水中3分钟，而后彻底倒干水 II. 倒入工作液A，持续搅动5分钟 III. 倒出工作液A，沥干至少15秒 IV. 倒入工作液B，持续搅动5分钟 V. 后续停显、定影、水洗等同普通胶片 6.6.2. 双浴显影步骤：间歇搅动 首先要保证静置时液面完全没过胶片，要求液体量将显著多于滚冲。A、B工作液的稀释比例均为1+15，其中需要在A工作液中滴入几滴Kodak Photo-Flo。冲洗温度在20-25摄氏度间即可，这里给出的温度是75F，约为23.89C。在此种温度下A、B液冲洗时间均为5分钟。以下是冲洗步骤： I. 将底片浸泡在与冲洗同温度的纯净水中3分钟，而后彻底倒干水 II. 倒入工作液A，前1分钟持续搅动，后每1分钟搅动10秒 III. 倒出工作液A，沥干至少15秒 IV. 倒入工作液B，前1分钟持续搅动，后每30秒搅动5秒 V. 后续停显、定影、水洗等同普通胶片 6.6.3. 双浴显影步骤：冲洗鼓持续搅动 该步骤适用于使用大型冲洗鼓进行页片冲洗，包括类似于Jobo ExpertDrum 3000系列的大型冲洗鼓。至少需要100ml的工作液，但具体工作液量取决于实际状况。A、B工作液的稀释比例均为1+20，其中需要在A工作液中滴入几滴Kodak Photo-Flo。冲洗温度在20-25摄氏度间即可，这里给出的温度是75F，约为23.89C。在此种温度下A、B液冲洗时间均为3分钟。以下是冲洗步骤： I. 将底片浸泡在与冲洗同温度的纯净水中3分钟，而后彻底倒干水 II. 倒入工作液A，持续搅动3分钟 III. 倒出工作液A，沥干至少15秒 IV. 倒入工作液B，持续搅动3分钟 V. 后续停显、定影、水洗等同普通胶片 特殊配方下面是一些公开的特殊配方。这些配方用的人相对没有上述那些配方这么多，但是都有其特点。 Hypercat该配方由510 Pyro作者Jay DeFehr开发测试，为高锐度、基于邻苯二酚的染色显影液。配方有A、B双液构成，A液为抗坏血酸1g、邻苯二酚10g、丙二醇100ml，B液为水750ml、碳酸钠200g、加水至1000ml，常用稀释比例为1+10+300。Hypercat不含亚硫酸盐与溴化物，同时没有第二个显影剂来再生主剂与减少锐度，抑或是减少邻接效应与补偿效应，能发挥底片的最大锐度潜力。这种类型的显影液不是什么新鲜玩意儿，自上世纪以来广受追求锐度的摄影师青睐，但会带来不好保存+使用不便利两大问题，直接让这款简单的显影液淡出主流视线。很少有人会买化学原材料，每次使用前都称量配置，而这些问题已由Hypercat完全消除。Hypercat使用两种高浓缩配方，保质期接近无限，混合加入水配置成工作液。 Hypercat由于其简单的构成，不含亚硫酸盐和为了再生主剂的第二显影剂，表现出了锐度显影液的真正特征。乳剂的鞣制与在高密度区域显影液的消耗相结合，产生了邻接效应与补偿效应，这提升了视觉锐度与底片速度，同时具有可控高光表现。上述效应通过Hypercat显影中10秒&#x2F;分钟的搅动实现，但这些效应可通过搅动频率的减少而增加到任意程度。但如果搅动不充分可能会出现不均匀的条纹，保持每3分钟10秒的搅动是实际操作上的最低频率。 Hypercat非常适合中低速底片，乳剂的鞣制与底片局部显影液的消耗可有效缓和反差，同时在不增加颗粒的表现下提高底片速度与清晰度。但是Hypercat的这些好处是建立在其他部分的牺牲上的。Hypercat由于是双液构成显影，对显影设备的要求很高，不适合滚冲或者需要显著减少搅动的冲洗。浓缩液稀释比例与搅动频率至关重要，并且需要通过测试获得较为适合的组合。搅动过少会导致出现不均匀的条纹，搅动过多会损失底片速度；而对于这两个极端之间存在的微妙的邻接效应，则需要使用者费时费力进行测试。但一般来说，最佳最均匀的显影时间一般位于6-10分钟，伴随10秒&#x2F;分钟的搅动。 以下是作者Jay DeFehr试验出的一些可用时间组合，可以作为参考。 Ilford Pan F Plus：EI 50；1+10+300；12min；70F；1 minute initial, 10 sec&#x2F;min Foma 200：EI 200；1+10+300；5min；70F；1 minute initial, 10 sec&#x2F;min Foma 200：EI 200；1+5+300；7.5min；70F；30 sec initial, 10 sec&#x2F;3min；3min presoak Tri-X 400：EI 400；1+5+300；7.5min；70F； 30 sec initial, 10 sec&#x2F;3min；3min presoak Obsidian Aqua同样由Jay DeFehr开发，可以看做是Hypercat的水基版本，专门为那些买不到丙二醇的用户设计。配方比较简单，水750ml、焦亚硫酸钠&#x2F;焦亚硫酸钾20g、邻苯二酚250g、加水至1000ml。稀释比例1+500，稀释入0.666%的碳酸钾溶液（6.66g&#x2F;L）或0.5%碳酸钠溶液（5g&#x2F;L）。Obsidian Aqua为超高稀释比例的显影液，显影结果和Hypercat几乎一致。但由于如此高的稀释比例，取用浓缩液时建议使用移液枪&#x2F;移液管。显影时间同Hypercat。 为了方便，下面是一些换算比例。 2.5ml of Hypercat A &#x3D; 1ml of Obsidian Aqua A 使用相同碳酸盐的情况下：Obsidian Aqua 1:500 &#x3D; Hypercat 1:200 一些显影时间建议：中低速底片9-12分钟，70F，10 sec&#x2F;3min；400度底片12-15分钟，70F，10 sec&#x2F;3min 一些意料之外的染色显影配方咖啡显影 Caffenol这是一种听起来比较离谱但确实存在了一段时间的显影配方。 一般包含下面几种成分，可能有可能没有： 咖啡酸：咖啡中必定含有的一种多酚类化学物质。咖啡酸别名叫3,4-二羟基肉桂酸，而邻苯二酚别名叫1,2-二羟基苯；根据Scott Williams博士的说法，观察化学结构不难发现，咖啡酸就是在邻苯二酚基础上多了一串基团，具有显影效力 抗环血酸&#x2F;VC：根据Jonathan Jacoby的说法，VC在显影液内起到了加速反应的作用，某些时候量大时会有加和作用，单独起到显影作用 洗涤苏打：也就是碳酸钠。这里这一种化学物质起到调节pH的作用，使得溶液可以激活显影。当然这里的作用只是调节pH，因此碳酸氢钠甚至氢氧化钠都可以，不过需要根据溶液进行质量换算 溴化钾：常见去灰雾剂，可选加入 一般来说买速溶咖啡粉就可以了，市面上雀巢的就可以用。配置咖啡显影液和上面的配置方法差不多，配置完搅拌直到所有成分溶解，放入罐子中静置24小时后使用。 下面是一些外国比较流行的咖啡显影配方，供各位参考使用。 Caffenol C-L(低速底片): 1000ml水、16g碳酸钠、10g维C、40g速溶咖啡、1.5g溴化钾 Caffenol C-M(中速底片): 1000ml水、54g碳酸钠、16g维C、40g速溶咖啡 Caffenol C-H(高速底片): 1000ml水、54g碳酸钠、16g维C、40g速溶咖啡、1.5g溴化钾 需要注意的是，可以使用加碘盐来替代溴化钾，6g是一个比较好的起点，如果觉得灰雾水平较大，可以提升到10g甚至12g。 红酒显影 Winol没错，确实是用红酒作为显影原料。配方和咖啡显影类似，原理也类似。 红酒显影配方：500ml红酒、50g碳酸钠、2g维C、0.5g溴化钾 强烈建议配置和冲洗时打开通风，显影配方混合后味道有点臭。作为参考，显影时间起点为：Ilford FP4+、20deg、45分钟，前1分钟持续摇晃，后每1分钟摇晃3次。 茶显影茶显影是一种比较典型的基于植物的显影配方，实际上8.1.提到的咖啡显影也是。茶叶中含有单宁酸，水解后形成酸与碱，而这种酸属于酚基，可以还原底片乳剂中的银，故可用于制备显影液。 茶水一般可以采用袋装红茶&#x2F;绿茶或者直接使用茶叶冲泡，这里将使用茶叶。将40-50g茶叶放入650ml沸蒸馏水中，盖上保鲜膜静置一天；一天后使用纱网或滤纸进行过滤，可以得到大约500ml茶水。 若要配置工作液，往上述茶水中加入40g碳酸钠与10g维C，可选加入0.5g溴化钾。 显影时间起点为26度12分钟，但针对不同的底片需要进行单独测试 推论概括：多酚类显影扩大了来说，上面8.1.~8.3. 均属于多酚类显影。而不少草本植物内均含有多酚类化合物。常见食品多酚含量前10名分别是：丁香、干薄荷、八角茴香、可可粉、干墨西哥牛至、芹菜籽、黑樱桃、黑巧克力、亚麻籽粕、黑接骨木果。对于8.1.中的咖啡，丁香的多酚含量是过滤咖啡的70倍，即理论上完全是可以用含有多酚类的植物的提取液作为显影液使用。 经过试验，老外已经验证使用2.5g迷迭香叶、2.5g碳酸钠、2.5g维C做成的显影液显影效果非常地好，同时假紫荆属树木、豆科灌木、薄荷等植物同样有着优秀的显影表现。 确实，世界上还存在着奇奇怪怪的显影配方 ：）"},{"title":"胶片的感光与曝光理论","date":"2025-04-11T06:27:38.000Z","url":"/2025/04/11/%E8%83%B6%E7%89%87%E7%9A%84%E6%84%9F%E5%85%89%E4%B8%8E%E6%9B%9D%E5%85%89%E7%90%86%E8%AE%BA/","tags":[["胶片摄影理论","/tags/%E8%83%B6%E7%89%87%E6%91%84%E5%BD%B1%E7%90%86%E8%AE%BA/"]],"categories":[["摄影艺术百年史","/categories/%E6%91%84%E5%BD%B1%E8%89%BA%E6%9C%AF%E7%99%BE%E5%B9%B4%E5%8F%B2/"]],"content":"曝光 &#x2F; Exposure曝光与EV值摄影曝光是光照和曝光时间的乘积。1862 年，本森和罗斯科提出了互易定律，即光化学反应的量仅由吸收的总光能决定，而与两个单独的因素无关。因此，曝光可以被表示为以下公式：$$H &#x3D; E \\times t$$其中H为感光乳剂所需曝光量，E为照度，t为时间。因此可以将曝光量认为是感光材料面积每秒照度和接受曝光时间的乘积。也就是说，在其他变量不变的情况下，扩大一档光圈或增加一倍曝光时间将得到和前一曝光两倍的曝光量。 R在1955年，EV值横空出世。EV值的出现将镜头光圈和快门速度合并为一个变量，简化了测光表读数和相机的曝光设置。我们定义EV 0是在f&#x2F;1光圈下曝光1秒。进一步，我们有以下EV计算公式：$$EV &#x3D; \\frac{\\log(N^2&#x2F;t)}{\\log 2}$$其中N为光圈值，t为以秒计算的曝光时间。EV值和光圈、快门速度的对应表格如下所示。 倒易率失效倒易率失效最早由天文学家Scheiner于1889年发现。在1899年天文学家Karl Schwarzschild对长曝光时间下的胶片进行了研究，因此倒易率失效也叫做Schwarzschild效应。在1.1节中提到，EV值是一个包含了快门速度和光圈的变量，因此不同的快门光圈组合往往会带来同一个EV值，但是这在底片上呈现的光化学反应是不同的。因此从严格的数学角度来说倒易率是不存在的。 实际底片曝光时间和底片收到的实际曝光量应该是一条下凸的平滑曲线。 对于这条曲线，我们可以简单理解为，曝光时间太短了潜影形成不了，曝光时间太长了潜影会被氧化。因此，在某些柯达彩色底片的数据册上会标注，在极短或极长曝光时间时均需要进行曝光补偿。Schwarzschild对上述1.1节内的公式修正如下：$$H &#x3D; E \\times t^p$$其中H为曝光、E为照度、t为曝光时间、以及p为一常数。进一步地，p在不同感光乳剂间差距较大，仅在较为狭窄的照度内为恒定，因此需要根据实际需求进行对特定感光乳剂进行测试以计算p值。因此不难发现，倒易率失效将直接带来测光曝光时间和实际曝光时间的非线性增长。而为了补偿这种曝光不足所进行的增加曝光将直接带来反差的提升，主要原因是阴影区域曝光不足或额外曝光造成高光过度曝光。这一点会在后续章节内继续阐述。 测光虽然现在大部分胶片相机都内置了测光功能，但是对于严肃摄影来说，测光表还是一个必不可少的工具。测光表一般分为入射测光和反射测光。入射测光表用于测定照在物体上的光量，测光表一般有白色的漫射半球用来测量均匀落在球上的光，测量时通常放于被摄主体处并且指向相机。入射测光常见于影棚等可控光线的环境内，但是入射测光无法测得被摄体亮部和暗部之间的差异。而反射测光则可以捕捉到不同表面反射率不同带来的明暗差异。 一般的反射测光表可以测得大约30度区域的光线，读数来自于被测面的亮度平均值，因此如果要测量更小区域的精确度数，就需要能读取更小角度光线的测光表。需要注意的是，测光表的逻辑均基于测光角度对应平面的平均读数，因此，如果从任一亮度均匀的平面进行测光，使用该数据将获得让该平面呈现中性灰的曝光表现。举个例子，如果对着黑色桌子点测光，那么得到的桌子是灰色的而不是黑色的，同样，对着一面很亮的白墙点测光，那么拍摄得到的墙会呈现出灰色。因此，对着画面最亮和最暗处点测光并加以平均，将会得到考虑整体实际场景的曝光数值。而进一步地，如果在某个场景前放置一张中性灰卡并对其测光，那么画面中的黑或者白均会被较好的呈现，不会发生上述黑变灰的现象。 光谱敏感度人眼敏感的电磁辐射波长范围约为400-700纳米，称为可见光。一个在黑白摄影中常被忽视的意外因素为，人眼、测光表与胶片对这些不同波长的可见光谱具有不匹配的敏感度。下图展示人眼、硅光电二极管测光表及典型全色胶片的典型光谱敏感度。 人眼的峰值敏感度位于约550-560纳米（中绿色），向紫外与红外方向以相近速率递减，呈正态分布的钟形曲线。老式测光表依赖光敏元件（多为硅或硒材料），但其光敏单元敏感度无法准确模拟人眼视觉——它们对蓝光与红光比人眼更敏感。 区域曝光理论&#x2F; The Zone System曝光范围与区间范围在区域曝光理论中，核心出发点为“中性灰”。这里，中性灰被定义为使用测光表对单一亮度表面测光并直接曝光（即5区曝光），无论原始物体明暗，均会生成匹配18%灰卡的中灰影调（5级）。同时需要注意，这里的”区”(Zone)特指曝光范围，”级” (Value)则用于其他概念（亮度值&#x2F;负片透射密度值&#x2F;纸张反射密度值）。 因此，虽然5级反射密度是匹配18%灰卡的中性灰，但其所代表的原始物体实际亮度可变（白&#x2F;黑&#x2F;中间调）。因此，我们对任何表面进行测光并直接采用测光数据曝光均为5区曝光，最终结果均会将其呈现为匹配灰卡的中灰。 我们进一步定义，一档曝光变化对应曝光范围的一个区的变化，灰度则随之在影调范围上增减一级。因此，以5区（中灰）为基准，每增减一档曝光对应一个区级变化（如5区→4 &#x2F; 6区），影调同步变暗或变亮一级，形成0（最暗）至10（最亮）的完整范围。 动态范围与纹理范围底片影调标尺以5级（中灰，对应18%灰卡）为中心，向暗部与亮部分级延伸。暗部从4级渐降至0级，其中4级与3级能清晰呈现被摄表面的纹理与细节，2级保留材质实感与基本纹理，1级接近纯黑，几乎无细节与实质感；亮部从6级渐升至10级，其中6级与7级保留完整纹理与细节，8级极浅但仍存微弱质感，9级近纯白，10级为纯白（与0级类似，无任何细节与实质）。0级与10级仅作为基准端点，不传递实质信息。 影调的本质是连续灰阶中的离散节点，因此可通过1&#x2F;2区或1&#x2F;3区的区间细分以提升精度，并与曝光范围关联。完整影调范围（0-10区）内包含动态范围（1-9区，实用边界）与纹理范围（2-8区，核心质感表现区）。1区以下及9区以上的影调需特殊冲洗工艺才能处理，在常规冲洗流程中1区为最低有效密度，高区易因胶片特性丢失分离度，导致细节丢失层次感。 全曝光范围被摄体实际的拍摄场景由多亮度区域构成，而各区域曝光差异决定底片最终影调定位。测光表在这种复杂场景中的作用是将亮度差异转化为以档位（区&#x2F;级）为单位的相对关系：亮度每翻一倍对应一档曝光提升及一个区级跃升，让我们能在拍摄时预判底片中的影调分布。以相对曝光单位（基准区为1单位，每升一区翻倍）量化亮度比，可在拍摄前期快速计算任意两区的影调跨度（如1区至8区亮度比1:64）。 进一步的，可以得出区域曝光系统的核心操作逻辑：通过选择性定位基准亮度确定整体曝光框架，并基于亮度差异的区级联动关系预判影调分布。 具体而言，我们可以自主选择场景中某一亮度（如灰卡）并将其定位至目标区（这里通常为5区，对应中灰），此时其他亮度区域将根据与基准的一档（1:2）亮度比差异自动对应至其他区级（如阴影低两档落入3区）。此过程确立了相机曝光参数，同时通过测光读数与区级标尺的映射，构建起从场景亮度到底片影调的对应关系。 以下为0~10区每一个区的大致曝光表现和纹理状况： 0区：相纸上完全的黑，相纸的DMax；底片未曝光部分，底片密度体现在片基灰雾上； 1区：有效阈值。相纸脱离纯黑的第一阶，有轻微色调但无纹理； 2区：细节首次出现，深暗影调，代表需要保留最低限度细节的最暗图像区域； 3区：相纸特性曲线的趾部区域，典型暗部材质（如深色织物、阴影区域），充分呈现出纹理细节； 4区：胶片特性曲线直线段下半部分，深色植被、暗色石材或风景阴影。阳光下白种人皮肤的阴影处肤色； 5区：中灰（18%反射率）。全色胶片拍摄的北方晴空、深色皮肤、灰色岩石、腐朽木材； 6区：白种人在日光、漫射天光与人造光下的肤色，明亮的石头，雪地阴影，位于胶片特性曲线直线段上半部分； 7区：非常亮的肤色，有质感的白墙，侧光下的雪地，浅白色色调足以表现丰富亮部细节，位于胶片特性曲线的肩部区域； 8区：具有少量质感与纹理的白色物体，光照到的有质感的雪地，白种人高光肤色区域； 9区：接近纯白的无纹理区域，大平光下的雪地，如果是小底片拍摄，9区可能直接呈现纯白色，和10区没区别； 10区：纯白色，相纸纸基色调，画面中的光源或镜面炫光。 基准测光位置选择从上面的几小节内不难看出，选定第一个测光点非常重要。我们需要优先确定需保留细节的最暗区域（通常置于2或3区），以此设定基准曝光，避免阴影细节因曝光不足永久丢失。 同时，测光点的选择也需要权衡在视觉上的纹理需求（如2区保留基础纹理 vs. 3区呈现完整细节），并通过测量其他亮度区预判影调分布。同时低于1区的暗部将失去细节，需要控制实际在底片上的面积以避免视觉干扰；高光区（6-8区）应保留必要纹理，但现代的胶片与显影技术可一定程度上扩展9-11区的细节还原潜力。 还需要注意的是，暗部的曝光调整存在一定的物理限制，如无纹理区域无法通过暗房放大或后期扫描校正恢复细节，而高光控制可通过压缩显影或后期调整干预更具灵活性。 扩张与压缩我们都知道，黑白胶片显影的几大变量为：显影液种类、稀释比例、温度、时间等。其中，增加显影时间提升底片反差，减少则降低底片反差。这种反差变化源于显影变化对底片不同密度区域的不均衡影响：高密度区（对应高光）比低密度区（约3区及以下）更敏感。因此，通过调整显影时间可改变高区与低区的密度差异。在实操中，我们通常固定显影液稀释比例、温度与搅动频率，仅通过增减显影时间控制显影程度，目标是通过调整负片密度范围，使其在相纸上或扫描图像中获得符合预期的影调。 我们定义，在固定其他变量不变的情况下，延长显影以提升反差称为扩张（如N+1表示扩张一区），缩短显影以降低反差称为压缩（如N-1）。比如，若场景亮度覆盖5个区级（如3-7区），N+1显影可使负片密度范围扩展至6个区级（3-8区），N+2可扩展至7个区级（3-9区）；对于宽广亮度范围场景（如1-9区）经N-1显影可压缩至1-8区，N-2显影则压缩至1-7区。 在上述的例子里不难发现，不论是扩张还是压缩，主要影响的是高光，而对阴影的影响很小。这主要是由于阴影细节主要由曝光水平决定，显影对其影响微乎其微；高光密度可通过显影调整，形成了“曝光定阴影，显影控高光”的核心法则。因此，我们可以在不同拍摄场景时提前预知该场景需要使用什么样的冲洗技巧，以达到想要的效果。 但是在实际显影中，调整显影时间也会对阴影区密度有轻微影响。显影控制虽以高光区为主，但压缩显影（N-）会轻微削弱阴影密度，需要在拍摄时增加1&#x2F;3-1&#x2F;2档曝光补偿；扩张显影（N+）则因阴影密度提高可略微减少曝光。 局部反差显影调整的核心目的是控制负片的整体反差范围，但其副作用是会影响阴影与中间调的局部反差。我们通常认为纹理的亮度范围一般分布于1-2个区内，而显影调整会强化或弱化这些纹理差异。压缩显影在压缩高光的同时，可能导致中间调过渡平淡，需要增加1&#x2F;2档曝光补偿阴影密度；而扩张显影则能强化局部纹理细节，但可能会出现高光溢出的现象。 实操中我们可以有效利用局部反差调整。人像摄影中，通过将肤色定位至高区（如7区）并配合压缩显影，实现皮肤细节柔化；艺术创作时，将关键纹理区域（如皮肤）放在5区并扩张显影，以增强细节表现。我们需要理解显影对局部与全局反差影响的权重差异：整体反差调控优先服务于高光管理，而局部反差调整则成为精细化影调表达的工具。 除了扩张（N+）与压缩（N-）显影外，其他显影细节的调整有时也能有效控制反差与影调分布。补偿显影是一种能够在充分曝光阴影细节的同时，维持高光区影调分离与合适密度的技术。补偿显影的核心在于允许对高反差场景进行充分曝光，同时避免高光细节丢失。目前的补偿显影一般分为两种：高稀释比例与双浴显影。值得注意的是，使用补偿显影时，需要额外增加曝光，一般来说是1档左右。 感光测定学 &#x2F; The Sensitometry感光测定是测量感光材料敏感度的科学，常用于阐释胶片与相纸的特性，通过绘制图像密度随不同曝光量及处理条件变化的曲线来实现。掌握这一潜在复杂技术领域的基础知识，对理解不同胶片与相纸如何响应曝光及显影变化大有裨益。本章将介绍基本术语，并解析制造商技术规格与摄影文献中频繁出现的胶片及相纸特征曲线。 密度密度是衡量胶片阻光能力的指标。要理解密度的含义，首先需明确两个术语：透射率与不透明度。透射率（T）指光线透过胶片的比例，同时等于 透射光&#x2F;入射光；而不透明度（O）指光线被阻挡的比例，数值上为透射率的倒数（O &#x3D; 1&#x2F;T）。举个例子，底片完全透光的情况下，不透光率也为1；不透光率&#x3D;2代表50%光透过，不透光率&#x3D;10 代表10%光透过，不透光率&#x3D;100代表1%光透过。 为简化计算，定义密度为不透明度的常用对数，也即$$ D &#x3D; \\log_{10}(O) $$。而如前文所述，相机内的曝光是以2为级数的增长，因此不难理解，相机曝光中的1档对应相对对数曝光的0.3，计算公式为$$ \\log_{10}(2) \\approx 0.30103 $$。 特性曲线1890年，费迪南德·赫特（Ferdinand Hurter）与维罗·德里菲尔德（Vero Driffield）首次发表特征曲线，阐释负片密度与曝光的关系。他们将曝光量以对数单位置于横轴，负片密度置于纵轴，绘制出后世所称的H&amp;D曲线。此后，该命名逐渐被DlogE曲线（密度-对数曝光曲线）取代，后因国际ISO单位统一再度更名为DlogH曲线。赫特与德里菲尔德的方法初时未被摄影界广泛接受，但胶片与相纸制造商迅速认识到其价值。以柯达公司劳埃德·琼斯团队为代表的企业研究机构，基于二人开创性工作，为感光测定的发展与实际应用做出了重大贡献。 特性曲线由多个描述感光材料响应的区域构成： 无响应区：对应0区及更低。在极低或零曝光区域，特性曲线平行于无密度线但不与之重合。胶片未曝光区域并非完全透明，而是存在轻微但恒定的密度，该密度被称为片基灰雾密度。该不透明度可能源于片基、明胶层、未曝光卤化银显影产生的灰雾或杂散光（如镜头眩光）。通常我们会测量片基灰雾密度，该值使D-log E曲线起点略高于无密度线，同时被称为最小密度D-min。最小密度会随胶片老化、温湿度升高或显影时间延长而增加。 曝光不足区：初始阶段曲线沿D-min水平延伸，因极低曝光无法形成可显影潜影。达到阈值点后曲线微幅上翘，进入趾部。该阈值点为首次出现可测净密度（含影像信息的密度）的曝光量。此区域曝光量大幅变化仅引起密度微弱增长，导致影调严重压缩：胶片记录的色调少于原场景，呈现低对比（平淡）且阴影细节缺失。该区域对应1-3区。 正确曝光区：对应D-log E曲线直线段，赫特与德里菲尔德追求的科学完美负片即基于此。此处显影银密度与曝光对数呈正比，曝光增量产生线性密度增长，呈现最佳影调分离与细节保留，对应4-8区。 过度曝光区：曲线肩部斜率递减，常规操作中一般不会用到。曝光超出直线段时，密度增幅递减，高光层次压缩失真。高反射区域（如强光）影调分离丧失，负片颗粒度加剧，暗房放大需长时间曝光。曲线肩部顶点对应最大密度（D-max）。 极端过度曝光区：曝光继续增加导致密度下降，称为负感（Solarization）或反转效应。现代乳剂化学配方会抑制此现象，即使严重过曝也难以触发。实际拍摄中极少触及此区域，D-log E曲线通常不显示反转。 伽马伽马（Gamma）是特性曲线直线段斜率的名称，通常以希腊字母γ表示，数学上为直线与水平线夹角的正切值。为便于计算与视觉估算，通常密度与对数曝光（log E）采用等长单位。此时，可将曲线直线段向下延伸至零密度线以确定惯性点。向右测量1.0 log E单位，作垂线与D-log E曲线相交，再从该点向左平行于log E轴延伸至密度轴，该处读数即为特性曲线的伽马值。伽马也可通过透明伽马计直接计算直线斜率正切值确定。 直线段伽马是衡量负片影调再现的指标。当γ&#x3D;1时，负片影调近似原始场景的亮度关系；γ&lt;1时，影调范围在负片上被压缩；γ&gt;1时，影调范围被扩展。显影时通过调整γ可补偿场景反差不足（如γ&gt;1增强低反差场景）或抑制高反差（如γ&lt;1柔化强光）。伽马虽反映场景反差，但并非其唯一决定因素：曝光范围同样影响整体对比。 同一感光材料在不同显影时间下会生成具有不同伽马值的特性曲线族。短时间显影时伽马快速上升，而长时间显影时伽马增速减缓，最终达到极限值，即伽马无穷大（γ∞），我们通过绘制显影时间-伽马关系曲线可直观显示此变化规律，通常显示为显影初期伽马陡升，后期趋近极限值。胶片制造商通常提供多种显影液的时间-伽马曲线，但需注意这些曲线可能为理想化平均值，与实际批次存在差异，精准摄影需个人基于实际自行测试。 通过实践验证，不同摄影场景存在最佳伽马范围： 0.5-0.7：适用于黑白业余摄影及室内人像； ≥1.0：印刷制版常用，需要更高的反差。 反差指数伽马（Gamma）是衡量显影程度的有用指标，但在实践中可能难以精确测量。现代乳剂特性曲线形态复杂化，会出现如无直线段、中部凸起、两侧具有不同斜率等问题。此类问题可能源于混合乳剂或使用补偿显影液（在低曝光区产生密度，同时抑制高曝光区密度）。同时，具有极陡斜率的曲线伽马值极高，测量中的微小误差可能导致伽马值显著偏差。同时，极短或过长的趾部形态的感光乳剂难以通过伽马选择显影时间。高质量底片常需曝光同时覆盖特性曲线趾部与直线段。为使用同一款相纸放大，负片密度范围需要较为一致。 伽马的不足促使人们尝试通过特性曲线上任意两点间的梯度来定义参数。选择非直线段的最低曝光点可量化趾部密度对最终底片影调的贡献，而梯度测定的高点位于直线段以避免肩部高密度与低影调分离。一般来说，连接曲线上两点的直线斜率值小于曲线伽马值。实践中，对具有不同趾部形态与长度的乳剂进行梯度测量，相比伽马测量能获得更一致的摄影结果。 但是，测量合适的平均梯度比伽马更困难。美国国家标准PH2.5-1960规定了用于确定胶片速度的平均梯度测量法。该方法经过改进和补充后，将参数命名为反差指数（Contrast Index, CI），并由柯达在其出版物中推广了此概念。 反差指数是D-log E曲线上代表低密度与高密度的两个任意点间的平均梯度。根据C.J. Niederpruem、C.N. Nelson与J.A.C. Yule的理论，最小密度位于半径为0.2单位（密度或对数曝光单位）的圆弧上，最大密度位于比小圆弧半径大2.0单位的同心圆弧上，圆心位于片基密度轴上。圆心对数曝光位置能够使得从中心引出一条假想直线同时穿过最大与最小密度点。此时，CI反差指数为该假想直线斜率。 平均梯度平均梯度（Average Gradient，$$ \\bar{G} $$）同样是衡量斜率的指标，与伽马（gamma）和对比度指数（Contrast Index）类似，但其不限于曲线的直线段部分。平均梯度可从曲线上任意一点测量至另一点。若两点均位于曲线直线段，则平均梯度与伽马相同。通常将两点的密度值作为下标标注于符号$$ \\bar{G} $$后，以便他人明确参考点位置。 在下图的例子里， 从密度0.18的点至密度1.70的点计算平均梯度，符号记为$$ \\bar{G}_{0.18-1.70} $$。 因此我们可以计算得知：$$\\frac{B密度-A密度}{B的Log E - A的Log E} &#x3D; \\frac{1.70-0.18}{3.3-0.3} &#x3D; 0.51$$ 感光度的测定胶片感光度的测定因涉及反对数与平均梯度而略显复杂。美国国家标准协会（ANSI）制定了广泛应用的测定方法，同时国际标准化组织（ISO）采纳了ANSI方法，因此胶片感光度可能标注为ASA或ISO（如ASA&#x2F;ISO），二者数值相同。测量方式如下 确保胶片正确显影（ANSI指定类似柯达D-76的显影液）： 在特性曲线上找到比最小密度（D-min）高0.10的点，标记为A，记录其对数曝光值（log E）。 向右移动1.30 log E单位，标记该点并垂直延伸至曲线交点，记录密度值并标记为B。 此时底片速度为 $$ \\frac{800}{10^{log E}} $$，同时若B点密度比A点高0.80±0.05，则显影正确。 例如：Dmin&#x3D;0.18时，A点密度&#x3D;0.18+0.1&#x3D;0.28；B点密度需在1.03-1.13之间（0.28+0.80 ± 0.05）。此时A点相对曝光数为0.9，因此这个时候底片感光度为$$ \\frac{800}{10^{0.9}} \\approx \\frac{800}{8} &#x3D; 100 $$。 宽容度曝光宽容度是指在不显著影响图像质量的前提下，相机曝光可允许的调整范围。我们将特性曲线直线段投影至零密度线，可确定理论上完美的曝光范围，此范围即为特定胶片在特定显影方式下的宽容度。 当Dlog E曲线直线段斜率因显影时间延长而变陡时，直线段覆盖的曝光范围缩短。对于自带高反差度胶片或经高反差显影的材料，精准曝光定位至关重要。 举个例子，若胶片记录的亮度范围（最暗与最亮物体差异）为60:1，则亮度范围的对数值为1.8（log 60）。快速查看特性曲线标尺可知，整条曲线覆盖log E范围为3.0，1.8的范围可轻松容纳其中，并留有一定容差空间（宽容度）。我们将感光点选在3.6节中的点A，此时Log E &#x3D; 0.9。以0.3 log E单位（1档）为步长移动，可见在超出曲线前可向左移动两次，同理向右亦可移动两次。因此，欠曝宽容度为2档，过曝宽容度亦为2档。 "},{"title":"文献阅读笔记：A Real-to-Sim-to-Real Approach for Robust Manipulation","date":"2025-02-10T13:50:14.000Z","url":"/2025/02/10/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0%EF%BC%9AA-Real-to-Sim-to-Real-Approach-for-Robust-Manipulation/","tags":[["文献阅读","/tags/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"],["Robotics","/tags/Robotics/"]],"categories":[[" ",""]],"content":"Reconciling Reality through Simulation: A Real-to-Sim-to-Real Approach for Robust Manipulation论文地址： 作者单位：Massachusetts Institute of Technology；University of Washington；TU Darmstadt 一. Task, Why, HowTask:开发一种系统，使机器人能够在模拟环境中通过强化学习，提升其在现实世界中执行操纵任务的鲁棒性 why:传统的Imitation learning需要大量的人类监督，才能学习对物体姿态变化、物理干扰和视觉干扰具有鲁棒性的策略。 而RL虽然可以自主探索环境以学习鲁棒行为，但可能需要大量不安全的现实世界数据收集。 因此，需要一种方法，在不依赖大量人类监督或不安全的数据收集的情况下，学习高性能且鲁棒的策略 How:Real-to-Sim：使用现实世界的数据优化模拟环境，使其更接近真实物理环境。 Sim-to-Real：在改进后的模拟环境中进行策略训练，利用数据增强、随机扰动等方法提升鲁棒性。 Real Evaluation：将训练好的策略部署回现实环境，并进行实验评估，与基准方法对比，验证其在不同任务和环境下的有效性。 二. 逻辑链1.Motivation作者为什么做这件事？之前存在什么问题？ IL通过专家演示数据学习策略。然而，除非能够收集大量多样化的演示数据，否则基于模仿学习训练的控制器通常缺乏足够的鲁棒性。此外，由于模仿学习仅依赖于示范数据，它无法自主学习如何从错误或分布外扰动中恢复，除非这些情况在演示数据中被明确覆盖。因此，传统的模仿学习方法难以直接应用于现实世界中需要广泛适应性和稳健性的任务部署。 RL通过自主探索环境来学习稳健的行为，使机器人能够在自收集的数据上进行训练，从而减少对人工数据收集的依赖，并发现一系列预定义演示未涵盖的行为，例如物体掉落后的重新抓取、夹持器内物体移动时的重新对齐以及对外部扰动的自适应调整。然而，在现实世界中直接训练RL策略存在诸多挑战：学习过程通常较慢，可能涉及不安全的数据收集，同时，由于环境重置成本高、奖励设计复杂等问题，训练过程往往难以高效实施。因此，在大多数情况下，直接使用RL在现实环境中学习鲁棒控制策略并不现实。 模拟环境提供了一种廉价、高效、安全且可控的方式来大规模收集训练数据。然而，在诸如家庭机器人操作等应用场景下，手动构建几何、视觉和物理特性高度逼真的模拟环境需要大量时间和人力投入，这使得其在大规模应用中难以成为可行的替代方案。 2.Novelty创新点在哪里？ 作者提出了RialTo, 通过digital twin从少量现实世界数据中动态构建的强化学习，来增强现实世界模仿学习策略的系统而无需大量数据收集或广泛的人类监督 3.Method1）Real-to-Sim-to-Real (R2S2R)k： 传统的 sim-to-real 方法通常仅依赖于模拟环境进行训练，而该研究提出了一种**现实到模拟再到现实（Real-to-Sim-to-Real, R2S2R）**的方法，先利用现实数据优化模拟环境，再在模拟中强化学习，最终将策略迁移回现实世界。相比于传统方法，这种框架能够更有效地减少 sim-to-real gap，提高策略的泛化能力和鲁棒性。 2）基于digital twin的高保真环境构建： 提出了一个自动化的digital twin环境构建方法，能够快速重建现实世界的几何、视觉和物理特性，使得模拟环境更接近真实场景。相比于手动建模，该方法大幅降低了构建高保真仿真环境的成本，并提升了仿真的物理精确性。 3）Reverse Distillation： 传统的强化学习通常从头开始训练，而该研究提出了一种逆向蒸馏（Reverse Distillation）方法，将现实世界的专家演示映射到模拟环境中，并利用这些数据微调强化学习策略，使其能够更有效地学习鲁棒的行为。这种方法减少了对大量现实数据的需求，同时提高了模拟训练的有效性。 4.Experiments1.Task SetupBook Placing：要求机器人在不同的初始条件和环境变化下，将书籍精准放置到目标位置。 Tray Organization：机器人需要在干扰因素（如物体姿态变化、视觉干扰等）存在的情况下，将多个物品整齐摆放到托盘中。 Pick and Place：测试机器人在不同物体、表面材质和环境光照条件下的操作稳定性。 2.Evaluation MetricsTask Success Rate Robustness Data Efficiency：在有限的现实数据下，所提出的方法相较于基线方法的学习效率 3.Baseline ComparisonsImitation Learning：直接从专家演示数据学习策略，不进行额外训练 Baseline Sim-to-Real：在标准仿真环境中训练策略，然后直接部署到现实世界 无逆向蒸馏的 R2S2R：去除逆向蒸馏步骤，分析其对最终性能的影响 5.ThinkingAdvantages有效缩小 Sim-to-Real Gap：通过构建高保真的数字孪生环境，该方法使模拟训练的策略能够更好地泛化到现实世界，避免了传统 Sim-to-Real 方法因仿真不精准而导致的性能下降。 提高数据利用率：通过逆向蒸馏（Reverse Distillation），R2S2R 能够最大化利用有限的现实世界数据，并在模拟环境中进一步优化策略，提高数据效率。 增强策略鲁棒性：相比于传统的模仿学习，该方法能够让策略自主探索环境，学习如何从错误中恢复，提高了对外部干扰（如物体滑落、意外碰撞等）的适应能力。 Limitations数字孪生环境构建成本：相较于端到端模仿学习可能增加前期工作量。 只适用于特定任务：在更复杂的非结构化环境，效度有待考证 三. 精读1. Abstract模仿学习方法需要大量的人工监督来学习对物体姿态、物理干扰和视觉干扰物变化具有鲁棒性的策略。另一方面，强化学习可以自主探索环境以学习稳健的行为，但可能需要不切实际的不安全现实世界数据收集。为了学习性能、稳健的策略，而不会负担不安全的现实世界数据收集或广泛的人类监督，我们提出了 RialTo，这是一种通过在从少量现实世界数据动态构建的“数字孪生”模拟环境中使用强化学习来鲁棒现实世界模仿学习策略的系统。为了实现这个真实的管道，RialTo 提出了一个易于使用的界面，用于快速扫描和构建现实世界环境的数字孪生。我们还引入了一种新的“逆蒸馏”程序，将现实世界的演示带入模拟环境中，以实现高效的微调，只需要最少的人工干预和工程。我们在现实世界中的各种机器人操作问题中评估 RialTo，例如在机架上稳健地堆叠培养皿，将书籍放在货架上，以及另外六个任务。在不需要广泛的人类数据收集的情况下，RialTo 在策略鲁棒性上增加（超过 67%） 2. Introduction想象一下，一个机器人可以通过把盘子放在碗架上来整理厨房。考虑可能遇到的所有环境变化：不同的板材配置或机架位置的变化，运输过程中板材意外滑入夹具，以及视觉干扰，包括杂乱和照明变化。为了使机器人有效，它必须在各种场景和物体扰动下稳健地解决任务，而不会对瞬态场景扰动变得脆弱。一个框架，使人类能够轻松地对机器人进行编程，使其在这些变化或干扰下稳健地完成任务。为了成为可扩展的部署选择，该框架不应做出特定于任务的假设，必须无缝应用于许多任务。 为了设计这些类型的鲁棒机器人控制器，可以尝试在大量场景和高度可变的对象中训练策略 12,21 。这很难为机器人学习提供可扩展的解决方案，原因有两个：（1）在大规模场景中实际收集或合成数据具有挑战性，因为在模拟中创建内容可能具有挑战性，并且数据收集对于现实世界可能具有挑战性，（2）一个广泛通用的、健壮的策略可能过于保守，降低了其在部署中遇到的特定目标域上的性能。或者，我们建议最大限度地利用特定用户，机器人在特定家庭环境中取得高成功更为关键，显示出对此设置中可能遇到的各种局部干扰和干扰的鲁棒性。考虑到这一点，我们的目标是开发一种机器人学习技术，该技术需要最少的人力来合成视觉运动操纵控制器，这对于部署环境中的任务性能非常稳健。问题变成了 - 我们如何获得这些鲁棒控制器，而无需对数据收集或模拟工程进行大量努力？ &gt; 模仿学习(Imitation learning) 从专家演示数据中学习，然而，除非收集大量演示，否则通过模仿学习学习的控制器往往会表现出有限的鲁棒性。此外，除非有意演示此类行为，否则模仿学习不会学会从错误或分布外干扰中恢复。这使得直接模仿学习算法不适合现实场景中的广泛、健壮的部署。 &gt; 强化学习( Reinforcement learning) 可以自主探索环境已学习稳健的行为，允许机器人在自收集的数据上进行训练，减少人类对大量数据收集的负担，并发现一组预先收集的演示(例如，当对象被丢弃时重新抓取，当对象在夹持器中移动时重新对齐，调整外部扰动等)。然而，在现实世界中直接执行 RL 的速度很慢，通常会导致不安全的数据收集，并且由于重置和奖励规范等问题具有挑战性。因此，目前，在许多情况下使用 RL 直接学习现实世界中的鲁棒控制策略是不切实际的。 &gt; 模拟提供了广泛、廉价、安全和特权信息收集大量数据的能力。对于家庭机器人操作等问题，手动构建几何、视觉和物理上逼真的模拟环境可能是时间和劳动密集型的，这使得它在规模上是不切实际的替代方案。 为了安全有效地学习鲁棒的操纵行为，我们的关键见解是在快速构建的仿真场景中训练RL控制器。通过利用目标部署域中的视频，我们可以获得具有精确几何形状和清晰度的场景，这些场景反映了现实世界的外观和运动学。这些“域内”仿真环境可以作为一个沙箱，安全快速地学习各种干扰和干扰因素下的稳健策略，而不需要在现实世界中进行昂贵的探索。我们展示了如何通过在这些构建的仿真环境中进行大规模的RL微调，在环境设计和奖励工程方面使用最少的人力，来强化用少量真实世界演示训练的模仿学习策略。为了减轻奖励工程的负担，我们利用了一组真实世界的 demonstration，通过强化学习引导高效的微调。这些真实世界的演示有助于缩小模拟到真实的差距，并提高我们策略的性能，如第IV-B节所示。然而，将真实世界的展示转化为模拟并非易事，因为我们无法访问环境的拉格朗日状态（例如对象姿态）。因此，我们提出了一种新的“逆蒸馏”技术，可以将真实世界的演示转移到模拟中。在构建的仿真环境中使用RL对真实世界的模仿学习策略进行鲁棒化后，可以将微调后的策略转移回现实世界，显著提高成功率和对测试时间干扰的鲁棒性。 总体而言，我们的 pipline 同时提高了强化学习和模仿学习的有效性。模拟中的强化学习有助于使模仿学习策略的部署准备就绪，而不需要在现实世界中进行大量不安全的交互式数据收集。同时，通过逆蒸馏从真实世界的演示数据中引导，使探索问题易于在模拟中进行RL微调。这最大限度地减少了算法设计者所需的特定任务工程量，例如设计密集奖励或手动设计场景。具体来说，我们提出了RialTo，这是一个无需大量人力即可对真实世界的模仿学习策略进行鲁棒化的系统，通过动态构建真实世界环境的逼真模拟类似物，并将其用于鲁棒的策略学习。 主要贡献：- 一个简单的策略学习pipline，它合成控制器在现实世界中执行不同的操作任务，(i)减少人类在构建环境和指定奖励方面的努力，(ii)产生健壮的策略，转移到现实世界的杂乱场景，显示出对干扰和干扰物的鲁棒性，(iii)需要在现实世界中最少数量的昂贵和不安全的数据收集。 - 一种新的算法，将demonstration 从现实世界转移到重建模拟，从低级拉格朗日状态引导有效的强化学习，用于策略微调。我们表明，这种真实的人类演示转移既提高了模拟现实行为的效率，又提高了策略，有效地转移到现实世界。 - 一个直观的图形界面，用于快速扫描和构建具有关节、分离对象和精确几何形状的真实世界场景的“数字孪生”。 - 我们提供了广泛的实验评估，表明RialTo产生反应策略，在物理干扰和视觉干扰下解决现实世界场景中的几个操作任务。在八个不同的任务中，我们的pipline 在不同对象姿势、视觉干扰物和物理扰动的情况下，平均成功率比基线提高了 67%。 3. RialTo: A Real-to-Sim-to-Real System for robust robotic manipulation3.1 A. System Overview我们的目标是获得一个控制策略，将现实世界的感官观察映射到机器人动作。我们只假设访问一小组演示(~ 15)，其中包含专家收集的(观察、动作)轨迹，尽管原则上RialTo也可以用来鲁棒大型、富有表现力的预训练模型。我们的方法使用基于模拟的 RL 对真实世界的模仿学习策略具有鲁棒性，以使学习的控制器对演示中不存在的干扰和干扰具有鲁棒性。所提出的 RialTo pipline 以四个主要步骤实现这一点: - 我们从真实世界的图像捕获中构造几何、视觉和运动学准确的仿真环境。我们利用 3D 重建工具并开发了一个易于使用的图形用户界面，用于添加关节和物理属性。 - 在模拟中，我们获得了一组包含特权信息(如拉格朗日状态，如物体和关节姿态)的成功轨迹。我们提出了一种“逆蒸馏”算法，将从真实世界的演示中学习到的策略转移到在模拟环境中创建轨迹数据集(即演示)。 - 合成的模拟演示使用易于设计的稀疏奖励函数和低维状态空间在模拟中使用 RL 引导有效的微调，并添加随机化以使策略对环境变化具有鲁棒性。 - 通过将基于状态的仿真策略提炼为从现实世界中可用的原始传感器观测运行的策略，将学习到的策略转移到现实。在蒸馏过程中，我们还与原始的真实演示联合训练，以利用基于模拟的稳健化和域内真实世界数据的综合好处。 3.2 B. Real-to-Sim Transfer for Scalable Scene GenerationRialTo的第一步是为 policy training 构建几何、视觉和运动学上逼真的模拟场景。这需要（i）从真实世界的图像中生成精确的纹理3D几何体，以及（ii）指定关节和物理参数。对于几何重建，我们使用现有的现成三维重建技术。我们的 pipline 与所使用的特定方法无关，我们已经用各种扫描应用程序（例如Polycam 48 和ARCode 15 ）和3D重建 pipline 60,41 验证了这种方法，每一个都将一组多视图2D图像(或视频)转换为纹理的3D网格。表示 G 的 raw mash 通常导出为单个全局统一几何，不适合直接策略学习。场景对象没有分离，也没有反映具有内部关节的物体的运动学。还需要未指定质量和摩擦等物理参数。因此，我们进一步将原始网格 G 处理成一组独立的身体&#x2F;链接${G_{i}}^{M}_{i&#x3D;1}$，具有运动学关系 K 和物理参数 P。 虽然有各种自动化技术可以自动分割和向网格添加关节 29 ，但在这项工作中，我们采取了一种简单的以人为中心的方法。我们为人类提供了一个简单的图形界面，可以快速分离网格并添加关节。我们的GUI允许用户上传自己的网格，并在全局场景中拖放、重新定位和重新定向它们。然后，用户可以分离网格并在不同网格元素之间添加接缝，从而可以扫描和处理抽屉、冰箱和橱柜等对象。重要的是，我们的界面轻量级、直观，只需要最少的领域特定知识。我们进行了一项研究（第 VI 节），评估了六个非专家用户对 GUI 的经验，发现他们可以扫描复杂场景并在 15 分钟的活动交互时间下用几个铰接对象填充它们。具有相应数字双胞胎的真实环境示例如图4和图16所示。 下一个问题是-我们如何推断准确地复制现实世界的物理参数。虽然准确识别物理参数是可能的，但如果没有相当大的交互，这可能具有挑战性 5, 63 。虽然适应动态变化是未来工作的重要方向，但在该系统中，我们在对象之间均匀地设置质量和摩擦的单一默认值，并通过约束学习到的策略接近少量的现实世界演示来补偿与实际现实世界值的模拟到真实差距，如第 III-C 节所述。 此过程生成场景$S &#x3D; {G_{i}}^{M}{i&#x3D;1}, K, P$，以URDF 文件表示，该文件引用分离的网格及其各自的几何${G{i}}^{M}_{i&#x3D;1}$、运动学 (K) 和物理参数 (P)。该环境随后可用于仿真中的大规模策略鲁棒化。 3.3 C. Robustifying Real-World Imitation Learning Polices in Simulation给定第 III-B 节中生成的模拟环境，RialTo 中的下一步是在模拟中学习一个健壮的策略，可以从各种配置和环境条件下解决所需的任务。虽然这可以通过在模拟中从头开始训练策略来完成，但这通常是一个非常缓慢的过程，需要大量的手动工程。相反，我们将采用基于微调的方法，在模拟中使用强化学习来微调从现实世界收集的少量专家演示初始化的策略。 由于直接从视觉观察训练 RL 具有挑战性，理想情况下我们希望微调基于特权拉格朗日状态的模拟策略。然而，现实世界的演示无法访问环境中的低级状态信息。为了能够使用使用真实世界演示从特权状态在模拟中引导 RL 微调，我们引入了一种新的“逆蒸馏”（第 III-C1 节）过程，该程序能够以仅原始传感器观察和动作获取真实世界的演示并将它们转移到模拟演示中，并包含低级特权状态信息。然后，这些特权信息演示可用于在模拟中实例化一个有效的基于 RL 的微调程序（第 III-C2 节），以显着提高策略的鲁棒性。 1）Inverse-distillation from Real-to-sim for Privileged Policy Transfer: 我们假设人类在现实世界中提供了少量的演示$D_{real} &#x3D; {(o_1^i, a^i_1), …, (o^i_H, a^i_H)}^N_{i&#x3D;1}$，其中轨迹包含观察 o (3D 点云) 和动作 a (delta 末端执行器姿势)。考虑到基于模拟的 RL 微调在从紧凑的状态表示 31, 11 操作时效率更高且性能更高（参见第 V-C 节），我们希望使用真实世界的人类演示来避免从头开始训练 RL 的困难（参见第 V-B 节），我们希望将我们的观察动作演示从现实世界转移到模拟，从而允许从紧凑的基于状态的表示中模拟后续 RL 微调。这带来了一个挑战，因为**我们没有明确的状态估计系统，它为现实世界中的收集到的演示提供拉格朗日状态。**相反，我们引入了一个过程，称为“逆蒸馏”，用于将现实世界的演示集转换为一组轨迹，这些轨迹与特权低级状态信息配对。 给定演示$D_{real}$，我们可以通过模仿学习自然地在该数据集上训练策略 $pi_{real}(a|o)$。“反向蒸馏”涉及在模拟中执行这种基于感知的学习策略$pi_{real}(a|o)$，基于模拟传感器观测o，收集数据集$D_{sim} &#x3D;{(o^i_1, a^i_1, s^i_1), …, (o^i_H, a^i_H, s^i_H)}^M_{i&#x3D;1}$的成功轨迹，其中包含特权状态信息$ s^i_t$。这里的关键见解是，虽然当我们从模拟中的感知输入执行学习到的真实世界模仿策略时，我们无法访问真实世界演示中的拉格朗日状态，但低级特权拉格朗日状态信息可以自然地从模拟中收集，因为感知观察和拉格朗日状态之间的配对在模拟中是先验已知的。由于目标是超越现实世界的模仿策略$pi_{real}(a|o)$，我们可以执行 RL 微调，将特权演示数据集$D_{sim}$合并到训练过程中，如下所述。"},{"title":"基于Ollama框架本地部署DeepSeek","date":"2025-01-31T12:57:39.000Z","url":"/2025/01/31/%E5%9F%BA%E4%BA%8EOllama%E6%A1%86%E6%9E%B6%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2DeepSeek/","tags":[["教程","/tags/%E6%95%99%E7%A8%8B/"]],"categories":[[" ",""]],"content":"前言因为这几天访问DeepSeek的时候总是遇到服务繁忙，加上蒸馏后参数量大大减小，已经可以部署在本地了 这篇文章记录了我部署的过程，如果你也希望本地使用DeepSeek，希望它能够帮到你😉 ok那我们开始吧 前期准备检查显存大小对于Win用户在powershell中输入如下命令： 会得到类似的output 可以看到我的显存是8188MB 请记住你的显存大小，这是我们选择模型参数量大小的重要参考因素 对于MacOS用户在[设置-关于本机]界面，查看搭载的芯片组型号 如果是M系列芯片，由于引入了统一内存架构，内存即为显存，可以看到我的内存是8GB 如果是Intel架构的芯片，则本教程不适用，因为装不上Ollama框架 安装Ollama框架访问Ollama 官网 ，根据你的操作系统选择对应的安装包进行下载。 因为服务器在国外，下载速度会很慢，可尝试如下方案： 1.启动多线程下载 在chrome的地址栏输入如下命令： 使Parallel downloading的状态为Enable 启动前： 启动后： 2.选择合适的科学上网节点 部分美国节点配合多线程下载可以跑到25MB&#x2F;s，Amazing！ 下载完成后，会默认安装至C盘，约占用10G空间 为了验证Ollama成功安装，在PowerShell中输入如下命令： 如果安装正确，会输出Ollama的版本号，如下图所示 模型部署选择模型我们今天要部署的Distill版本，是在阿里的QWEN千问和META的LLAMA基础上再训练实现的蒸馏版本 （btw，满血版的deepseek-R1基于deepseek-v3再训练实现，具有671B参数，理论上起码需要350G以上显存才能够部署） 一般来说，8G显存可以部署8B级别模型；24G显存可以刚好适配到32B的模型，请根据自身电脑硬件配置来选择合适的模型版本 下载模型根据显存大小，我选择下载8B参数的量化模型： 如果想下载其他参数量的，只需要将8B修改为新的参数值 如选择 32B 版本，则改为ollama run deepseek-r1:32b 耐心的等待下载即可 开始对话使用如下命令启动DeepSeek： 即可与DeepSeek对话： 可以看到显存只用了6GB 对于MacOS用户，大同小异 M1的GPU基本被4060按在地上摩擦🤣（不过最近看很多youtuber使用MacMiniM4组成的集群跑LLM，效果也不错） 进阶使用部署Open webUI如果你认为命令行过于简陋，可以尝试部署Open WebUI框架来引入更简明的交互界面 1.安装Docker 我们进入docker 官网，根据自己电脑的操作系统下载对应的版本的DockerDesktop 下载完成后，你可能会被提醒需要更新子系统，因为服务器在海外，请使用科学上网的方法更换节点 完成更新后打开DockerDesktop 点击右下角Terminal，输入下面命令，然后等待安装完成 因为GFW正式DNS污染+SNI阻断了docker.com及其相关域名，你仍然需要确保自己是在科学上网的环境 这一步耗时很久，需耐心等待 可以看到我们已经pull了open webui 我们之前已经将本机的端口3000映射到容器内的端口8080，这意味着可以通过访问 来访问运行在容器内的服务 根据提示完成初始化 完成后可以选择已经pull到本地的模型 我觉得它很蠢 可以同时运行多个模型，换deepseek试试，听说它使用了弱智吧的数据集 同时运行多个模型，风扇拼尽全力无法战胜 我的处理器是臭名昭著的13代酷睿，需要手动在BIOS中关闭E核避免调度问题 CPU满载的情况还是第一次见🤔 好吧DeepSeek也没聪明到哪去，这还是14b的版本 以上 题外话哎呦卧槽太有节目效果了 刚刚发现我的chatGPT账号和Claude账号都被封了 我明明上午还在用的啊 chatGPT账号注册一年多了快？每个月都冲plus会员，和Claude账号一样都绑定了Google账户，梯子的节点也干净 我没话说🤷 结语希望这篇文章对你有帮助，任何疑问可以通过strtus@outlook.com与我联络 enjoy😉 ! "},{"title":"色彩科学的数学原理_4.李群方法推导Rodrigues公式","date":"2025-01-30T15:56:36.000Z","url":"/2025/01/30/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86_4.%E6%9D%8E%E7%BE%A4%E6%96%B9%E6%B3%95%E6%8E%A8%E5%AF%BCRodrigues%E5%85%AC%E5%BC%8F/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":"旋转矩阵的无穷小变换首先，从旋转矩阵入手，设旋转角度为 $\\delta \\alpha$ 时，旋转矩阵的变化量为： $$\\delta \\boldsymbol{r} &#x3D; \\boldsymbol{n} \\times \\boldsymbol{r} , \\delta \\alpha$$ 旋转矩阵的变化量可以表示为： $$\\boldsymbol{R}(\\boldsymbol{n}, \\delta \\alpha) &#x3D; \\boldsymbol{I} + \\delta \\alpha \\begin{bmatrix} 0 &amp; -n_z &amp; n_y \\ n_z &amp; 0 &amp; -n_x \\ -n_y &amp; n_x &amp; 0 \\end{bmatrix}$$ 其中，$\\boldsymbol{I}$ 是单位矩阵，$\\boldsymbol{\\Omega} &#x3D; \\begin{bmatrix} 0 &amp; -n_z &amp; n_y \\ n_z &amp; 0 &amp; -n_x \\ -n_y &amp; n_x &amp; 0 \\end{bmatrix}$ 是反对称矩阵。 旋转矩阵的指数映射旋转矩阵的最终表达式可以通过无穷小旋转的指数映射来表示。对于有限旋转角度 $\\alpha$，可以将其分解为无穷次无穷小旋转的连续作用： $$\\boldsymbol{R}(\\boldsymbol{n}, \\alpha) &#x3D; \\lim_{N \\to \\infty} \\left( \\boldsymbol{I} + \\frac{\\alpha}{N} \\boldsymbol{\\Omega} \\right)^N &#x3D; e^{\\alpha \\boldsymbol{\\Omega}}$$ 通过指数映射，可以得到旋转矩阵 $\\boldsymbol{R}(\\boldsymbol{n}, \\alpha)$。 计算矩阵指数通过矩阵的幂级数展开： $$e^{\\alpha \\boldsymbol{\\Omega}} &#x3D; \\sum_{k&#x3D;0}^{\\infty} \\frac{(\\alpha \\boldsymbol{\\Omega})^k}{k!}$$ 由于 $\\boldsymbol{\\Omega}$ 是一个反对称矩阵，并且满足 $\\boldsymbol{\\Omega}^3 &#x3D; -\\boldsymbol{\\Omega}$，可以通过分解 $\\boldsymbol{\\Omega}$ 的幂次来简化计算 $$\\boldsymbol{\\Omega}^{2k} &#x3D; (-1)^{k-1} \\boldsymbol{\\Omega}^2, \\quad \\boldsymbol{\\Omega}^{2k+1} &#x3D; (-1)^k \\boldsymbol{\\Omega}$$ 矩阵指数展开式可以写为： $$e^{\\alpha \\boldsymbol{\\Omega}} &#x3D; \\boldsymbol{I} + \\boldsymbol{\\Omega} \\sin \\alpha + \\boldsymbol{\\Omega}^2 (1 - \\cos \\alpha)$$ 结合 $\\boldsymbol{\\Omega}^2$ 的表达式由于 $\\boldsymbol{\\Omega}^2 &#x3D; \\boldsymbol{n} \\boldsymbol{n}^T - \\boldsymbol{I}$，将其代入矩阵指数的展开式中，得到： $$e^{\\alpha \\boldsymbol{\\Omega}} &#x3D; \\boldsymbol{I} + (\\boldsymbol{n} \\boldsymbol{n}^T - \\boldsymbol{I}) (1 - \\cos \\alpha) + \\boldsymbol{\\Omega} \\sin \\alpha$$ 得到最终的 Rodrigues 旋转公式： $$\\boldsymbol{R}(\\boldsymbol{n}, \\alpha) &#x3D; \\boldsymbol{I} \\cos \\alpha + (1 - \\cos \\alpha) \\boldsymbol{n} \\boldsymbol{n}^T + \\sin \\alpha \\begin{bmatrix} 0 &amp; -n_z &amp; n_y \\ n_z &amp; 0 &amp; -n_x \\ -n_y &amp; n_x &amp; 0 \\end{bmatrix}$$"},{"title":"色彩科学的数学原理_3.Planckian locus的绘制方法","date":"2025-01-26T15:01:53.000Z","url":"/2025/01/26/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86_3.Planckian%20locus%E7%9A%84%E7%BB%98%E5%88%B6%E6%96%B9%E6%B3%95/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":"前言在上一章节中，基于前述辐射度量学与光度学的基础，讨论了如何通过实验数据构建色域马蹄图 本章节介绍Planckian locus的绘制方法，并由此引出相关色温的概念，这是三刺激值计算的典型案例 Planckian locus与色温黑体辐射的辐亮度分布函数为： $$\\mathcal{L}\\left(\\lambda; T\\right) &#x3D; \\frac{2hc^2}{\\lambda^5}\\frac{1}{\\mathrm{e}^{\\frac{hc}{\\lambda kT}}-1}$$ 通过积分计算三刺激值后，得到色度坐标随温度$T$变化的轨迹——Planckian locus。 相关色温（CCT）定义为色度坐标最接近Planckian locus点的温度值。 相关色温对于自然界中的许多光源，其色度坐标并不完全落在Planckian locus上，但可以通过计算其与Planckian locus的最近点来确定其相关色温（CCT）。相关色温广泛应用于摄影、照明等领域，用于描述光源的颜色特性。 均匀颜色空间虽然CIE 1931 xy色度图能够直观地表示颜色的色相和饱和度，但其上的欧式距离并不能很好地反映人眼对颜色差异的感知。为了解决这一问题，研究者提出了均匀颜色空间的概念，例如CIE 1976 UCS（Uniform Chromaticity Scale）图。在均匀颜色空间中，颜色的差异与人眼的感知更加一致。 "},{"title":"利用HEXO+GithubPages搭建自己的静态博客","date":"2025-01-23T11:48:11.000Z","url":"/how2build.html","tags":[["教程","/tags/%E6%95%99%E7%A8%8B/"]],"categories":[[" ",""]],"content":"前言准备趁着这个寒假系统的学习一下色彩科学和计算机图形学，这样有助于我更好的调色 为了记录和分享我新学到的知识，搭建一个知识博客是有必要的，知识分享类博客侧重体系的构建，所以它应该对Markdown与$\\LaTeX$有很好的原生支持，这样有助于我把Obsidian中的知识库迁移过来，而且它应该足够轻量，易于分发与备份 (我可不希望它像wordpress那样数据库冗杂且备份文件经常无法恢复以至于我换了个云服务供应商就丢失了写了八年的博客😭） 基于上述考量，在尝试了HEXO，Gridea，Typecho这几个主流的博客平台后，我选择了基于 Node.js框架的Hexo，作为一款静态博客框架，HEXO能够将网站内容预先渲染为 HTML 文件，这与传统的动态博客不同，后者依赖于数据库和服务器端脚本来动态渲染，由于内容以静态文件形式存储和分发，所以它可以加载的更快，且可以很便捷的git到GitHub Pages 等托管服务 这篇文章记录了我搭建这套博客的过程，如果你也想拥有一套自己的博客系统，希望它能够帮到你😉 需要声明的是，我是在macOS上搭建的，不过对于Win来说大同小异 ok那我们开始吧 准备工作注册GitHub 账号我们需要把生成的html文件git到Repository中，你需要前往GitHub官网注册一个自己的账号 安装 Git请提前部署好git环境 部署Node.js环境去官网下载即可，不再赘述 下载完成后在Terminal中输入以下命令检测版本确保安装成功 你应该会得到类似 这样的output 域名购买（非必要)通过国内的云服务供应商购买域名会更便宜，但需要备案，我个人用的是腾讯云 选择国外的供应商则无需备案，比如Cloudflare 确保自己拥有良好的科学上网环境我们需要访问github的服务器，而这个过程需要绕过一堵无形的墙，u know 方法不再赘述，八仙过海各显神通 比如你甚至可以通过修改hosts来突破DNS污染） 安装HEXO1.在本地创建安装目录，比如这是我的目录： 如果你和我一样把HEXO框架安装在了iCloud&#x2F;OneDrive的同步文件夹下，请记得勾选“保留下载&#x2F;始终保留在此设备” 2.通过cd命令切换到该目录： 3.通过npm安装hexo： 如果你和我得到了类似的output： 这是由于当前用户没有权限在 /usr/local/lib/node_modules 目录下安装全局的npm包，如果不希望在系统目录下安装 npm 包，可以将 npm 的全局安装路径修改为你自己用户目录下的某个位置 1.首先，创建一个目录来存放全局安装的 npm 包： 2.告诉 npm 使用这个新目录来安装全局包： 3.编辑 .bash_profile 或 .zshrc 文件，加入以下内容： 4.重新加载配置文件： 5.再次运行安装命令 如图： 在我们选定的安装目录下可以看到Hexo CLI： 安装完成后，初始化我们的博客，输入： 不出意外的话这个时候又要出意外了 看报错信息，提示需要在 Hexo 项目的根目录下运行 npm install 来安装项目所需的依赖包 之前只是安装了 Hexo CLI，现在需要安装 Hexo 的依赖项 那么，按照它的提示👇 使用npm install命令根据 package.json 文件中的配置安装所有必需的依赖包 呐，屁用没有🤷 根据报错信息，npm 缓存目录（/Users/sqren/.npm）中包含了由 root 用户拥有的文件，这是因为之前我使用 sudo 安装过 npm 包 现在我们需要将 /Users/sqren/.npm 目录的所有权更改为当前用户： 检查当前用户的名称和对应的用户组： 会看到如下output： 其中： uid=501(sqren) 表示当前用户是 sqren。 gid=20(staff) 表示当前用户的用户组是 staff。 修正 chown 命令： 把 .npm 目录及其所有内容的所有权更改为 sqren 用户和 staff 组。 清空 npm 缓存以防出现奇奇怪怪的问题 接下来就可以愉快的npm install了😋 安装完成后运行如下命令初始化HEXO： 启动HEXO本地服务 如图 浏览器访问  能进来这个页面就说明安装成功了 配置HEXO配置主题cd到themes目录 直接git clone😋 随后修改_config.yml文件中的theme键值为当前主题名称： （Hexo 有2种 _config.yml文件，一个是根目录下的全局的 _config.yml，一个是各个 theme 下的 _config.yml。前者称为站点配置文件， 后者称为主题配置文件，这里我们修改的是站点配置文件） 重启本地serve，在浏览器中可以看到主题已经完成了更换 安装插件如若需要安装插件，请使用如下命令： 这里以katex为例 撰写新文章1.cd到HEXO目录 使用new命令来新建一个带有front-matter的.md文件 随后你可以在posts目录下打开此文档 2.撰写完文章后使用如下命令清除缓存： 3.生成html文件 4.git 5.启动本地预览服务，即可在浏览器中访问 使用Hexo deploy 部署到github建立RepositoryRepository的命名格式应该为&lt;github用户名&gt;.github.io 配置SSH1.在仓库中获取SSH链接 2.在站点配置文件_config.yml中修改deplog的键值： 3.安装Git部署插件 4.配置SSH-Key 如图👇： 添加生成的SSH key到ssh-agent： 复制key，然后回到Github，进入路径user/Settings/Access/SSH and GPG keys Add new SSH key 测试添加ssh是否成功 如果看到Hi后面是你的用户名，就说明成功了 此时已经可以git到Repository中了 现在我们可以通过github分配的域名访问自己的静态博客： 域名解析ping一下，延迟还不错，也不丢包（因为我开着魔法呢hhh 记住这里的ipv4地址 进入DNS解析管理页面： A类解析到ip地址 CNAME解析到github的域名 前往Repository 在Steeings/page中，输入你的domain 如果DNS check状态为successful，则会在repository生成一份CNAME文件，里面是你的domain 请将文件下载至你的本地仓库中的source文件夹，否则每次git后，会覆盖掉repository中的CNAME文件，则域名无法解析到github.io 现在，你可以愉快的写博客了 本地的markdown编辑器推荐使用Obsidian或Typora，它们都对Latex有很好的支持 结语希望这篇文章对你有帮助，任何疑问可以通过strtus@outlook.com与我联络 enjoy😉 ! "},{"title":"色彩科学的数学原理_2.Trichromatic Theory & Grassmann's Law","date":"2025-01-22T15:56:24.000Z","url":"/2025/01/22/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86_2.Trichromatic%20Theory%20&%20Grassmann's%20Law/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":" 本文还在编辑中 前言辐射度量学和光度学为颜色的定量描述奠定了理论框架，本篇文章将围绕Trichromacy理论、色光混合实验和Grassmann’s law对色度学做进一步深入的讨论，进而阐述色彩空间的数学结构 Trichromatic Theory 与颜色匹配实验学过大雾后我们会知道，颜色并不是物体本身所具备的固有属性，而是光线在特定波长下的反射或发射所引起的视觉反应。这种视觉反应通过眼睛中的视锥细胞( cone cell )捕捉，并由大脑进行解读，最终呈现为我们所感知到的颜色。 三色刺激值人类眼睛有对于短（420-440nm）、中（530-540nm）和长（560-580nm）波长的光感受器。根据三种视锥细胞的刺激比例，便能描述任一种颜色的感觉，此称为LMS空间 牛顿色散实验1666年，英国科学家艾萨克·牛顿通过实验揭示了光的色散现象。在其经典的色散实验中，牛顿将白光通过三棱镜分解为七种颜色（红、橙、黄、绿、蓝、靛、紫）。牛顿进一步实验发现，单一颜色的光无法被再度分解，得出了白光是由多种单色光混合而成的结论。 通过这些实验，牛顿首次证明了白光的复合性，并推测了在可见光谱外的颜色，如品红色和紫红色。 Trichromatic Theory在牛顿色散实验的基础上，法国物理学家Mariotte提出了Trichromatic Theory ，认为只需要三种基本色光即可混合产生所有颜色。这个理论经过Thomas Young和Hermann von Helmholtz的进一步完善，最终形成了Young–Helmholtz theory。 该理论提出，人眼的视网膜上存在三种不同类型的感光细胞，分别对红、绿、蓝光最为敏感。 基于这一生理学发现，科学家们通过实验验证了人眼对于颜色的感知依赖于三种光的混合。这三种光被称为三基色，分别为红（R）、绿（G）和蓝（B）。 在现代的生理学中，这三种色光的感知分别对应于L-视锥细胞、M-视锥细胞和S-视锥细胞。 颜色匹配实验与颜色匹配函数基于Trichromatic Theory ，科学家进一步发展了颜色匹配实验，以验证通过三基色混合可以再现所有颜色。在这些实验中，研究人员使用色光匹配的方式，测量并记录了不同颜色下三基色的亮度比值。这些实验结果被表示为颜色匹配函数，它们定义了不同波长光在三基色光源下的组合比例。1931年，CIE（国际照明委员会）通过结合Wright和Guild的实验数据，提出了标准的三基色（红光：700 nm、绿光：546.1 nm、蓝光：435.8 nm）。 下图展示了Wright和Guild的颜色匹配实验数据： Grassmann’s lawGrassmann’s law是描述色光混合的基本定律之一，它不仅是色度学中的基础理论，也是计算机图形学、色彩管理系统等领域中的核心原理。Grassmann’s law由四个核心命题构成，描述了色光混合过程中的亮度加法和色相、饱和度的恒定性。 色相、饱和度与亮度的数学定义首先我们明确一下颜色的三要素：色相（hue）、饱和度（saturation）和亮度（luminance）。 色相（hue） 表示颜色的基本类型，可以理解为颜色的角度。 饱和度（saturation） 表示颜色的纯度，饱和度越高，颜色越纯。 亮度（luminance） 表示颜色的亮度强度，即颜色的明暗程度。 设两个色光 ( C_1 ) 和 ( $C_2$ ) 的亮度分别为 ( $L_1 $ ) 和 ( $L_2 $ )，色相为 ( H_1 ) 和 ( H_2 )，饱和度为 ( $S_1 $) 和 ( $S_2$ )。在Grassmann’s law的框架下，混合后的颜色 ( $C_{\\text{mix}} $) 的亮度 ( $L_{\\text{mix}} $)、色相 ( $H_{\\text{mix}}$ ) 和饱和度 ( $S_{\\text{mix}}$ ) 满足以下关系： 亮度加法定律：$$L_{\\text{mix}} &#x3D; L_1 + L_2$$ 色相与饱和度恒定：$$H_{\\text{mix}} &#x3D; H_1 &#x3D; H_2$$ $$S_{\\text{mix}} &#x3D; S_1 &#x3D; S_2$$ 这表明，Grassmann’s law假定在混合过程中，色相和饱和度是恒定的，只有亮度发生变化。 亮度加法定律的数学推导为了从数学上推导亮度加法定律，我们首先假设光的亮度 ($L $) 是光谱功率分布$SPD$ ($P(\\lambda) $ 与人眼感光曲线 $ \\overline{V}(\\lambda) $ 的加权积分。假设有两种色光 ($ C_1 $) 和 ($C_2$)，它们的亮度分别为 ($L_1 $) 和 ($L_2 $)，则：$$L_1 &#x3D; \\int_{\\lambda} P_1(\\lambda) \\overline{V}(\\lambda) , d\\lambda$$ $$L_2 &#x3D; \\int_{\\lambda} P_2(\\lambda) \\overline{V}(\\lambda) , d\\lambda$$ 在Grassmann’s law下，混合后的亮度 ( $L_{\\text{mix}} $ ) 是两个色光亮度之和： $$L_{\\text{mix}} &#x3D; L_1 + L_2 &#x3D; \\int_{\\lambda} \\left( P_1(\\lambda) + P_2(\\lambda) \\right) \\overline{V}(\\lambda) , d\\lambda$$ 这表明，亮度加法是光谱响应和视觉响应的线性组合。 色光混合的线性加法性质Grassmann’s law不仅仅描述了亮度的加法，也揭示了颜色混合过程的线性性质。假设有两个色光 ( $C_1 &#x3D; \\left( a_R [\\mathrm{R}] + a_G [\\mathrm{G}] + a_B [\\mathrm{B}] \\right) $) 和 ( $C_2 &#x3D; \\left( b_R [\\mathrm{R}] + b_G [\\mathrm{G}] + b_B [\\mathrm{B}] \\right) $)，其混合后的结果 ($ C_{\\text{mix}} $) 可通过加法得到： $$C_{\\text{mix}} &#x3D; C_1 + C_2 &#x3D; \\left( a_R + b_R \\right) [\\mathrm{R}] + \\left( a_G + b_G \\right) [\\mathrm{G}] + \\left( a_B + b_B \\right) [\\mathrm{B}]$$ 从数学上看，颜色的加法就是三个基色 ( $[\\mathrm{R}]$ )、( $[\\mathrm{G}] $ )、( $[\\mathrm{B}] $) 的线性组合。这种线性加法性质说明了色彩空间的线性结构，且颜色的合成是无穷维空间中的线性变换。 负值和色彩空间的对偶性质在色光混合实验中，我们会遇到某些情况下基色的系数为负数。这意味着，在某些条件下，参考域中必须“减去”某些色光分量才能匹配目标色光。这种现象对应着色彩空间的对偶性，具体表现为： $$C_{\\text{ref}} &#x3D; C_{\\text{target}} - \\left( a_R [\\mathrm{R}] + a_G [\\mathrm{G}] + a_B [\\mathrm{B}] \\right)$$ 这种负值是色光混合实验中的一项数学特征，它表明色光的混合不仅仅是正向合成，还可以通过某些特定方式进行负向补偿。 色彩空间的线性结构色彩空间是一个描述颜色的多维数学空间，其中每个颜色都可以表示为基色的线性组合。通过线性空间的理论，我们可以对色彩空间进行深入分析，理解其数学结构。 色彩空间的定义与基色设定色彩空间 ( $\\mathscr{C} $) 为三维空间，且其基底由三个基色 ( $[\\mathrm{R}]$ )、( $[\\mathrm{G}]$ )、( $[\\mathrm{B}] $) 构成。任意颜色 ( $C$ ) 都可以表示为这三个基色的线性组合： $$C &#x3D; a_R [\\mathrm{R}] + a_G [\\mathrm{G}] + a_B [\\mathrm{B}]$$ 其中，( $a_R$ )、($ a_G$ )、( $a_B$ ) 是标量，分别表示颜色 ( $C $ ) 在三基色上的分量。这些分量确定了颜色的色相、饱和度和亮度。 色彩空间的线性运算在色彩空间中，颜色的加法和数乘操作是封闭的，这意味着： 加法运算：若 ( $C_1$ ) 和 ( $C_2$ ) 分别表示为： $$C_1 &#x3D; a_R [\\mathrm{R}] + a_G [\\mathrm{G}] + a_B [\\mathrm{B}]$$ $$C_2 &#x3D; b_R [\\mathrm{R}] + b_G [\\mathrm{G}] + b_B [\\mathrm{B}]$$ 则它们的加法结果是： $$C_{\\text{mix}} &#x3D; C_1 + C_2 &#x3D; (a_R + b_R) [\\mathrm{R}] + (a_G + b_G) [\\mathrm{G}] + (a_B + b_B) [\\mathrm{B}]$$ 数乘运算：若 ( $C$ ) 表示颜色，且标量 ( $k$ ) 为一个实数，则数乘结果为： $$k C &#x3D; k \\cdot \\left( a_R [\\mathrm{R}] + a_G [\\mathrm{G}] + a_B [\\mathrm{B}] \\right) &#x3D; (k a_R) [\\mathrm{R}] + (k a_G) [\\mathrm{G}] + (k a_B) [\\mathrm{B}]$$ 色彩空间的亮度与色度分离在色彩空间中，我们可以将亮度和色度分离。假设亮度 ( $L$ ) 是颜色的加权平均值，而色度 ( $\\theta $ ) 表示色光的混合比例。则，色彩空间中的每个点都可以通过亮度和色度来描述： $$C &#x3D; L \\cdot \\theta$$ 其中，( $L $ ) 为颜色的亮度，( $\\theta$ ) 为颜色的色度分量。通过这种方式，色彩空间中的颜色可以被分解为亮度和色度的乘积，从而实现色彩的亮度与色度的独立控制。 Reference 三色视者与四色视者身后的理论基础:色彩原理-周陆军的文章 - 知乎 Wikipedia contributors, “CIE 1931 color space,” Wikipedia, The Free Encyclopedia,  (accessed January 22, 2025). Malacara A D. Color Vision and Colorimetry: Theory and Applications, Second Edition. 2011. The Trichromatic Theory Of Color Vision Trichromatic Theory of Color Vision | Overview &amp; Definition Fairman H S, Brill M H, Hemmendinger H. How the CIE 1931 color‐matching functions were derived from Wright‐Guild data [J]. Color Research &amp; Application, 1997, 22(1):11-23. The First Book of Opticks. Part II (1704) CIE (1931) color space "},{"title":"色彩科学的数学原理_1.辐射度量学与光度学","date":"2025-01-22T14:00:21.000Z","url":"/2025/01/22/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86-1-%E8%BE%90%E5%B0%84%E5%BA%A6%E9%87%8F%E5%AD%A6%E4%B8%8E%E5%85%89%E5%BA%A6%E5%AD%A6/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":"前言为了系统探讨色度学原理，首先需了解“什么是光？”以及“人眼如何对光产生视觉感知？” 有鉴于此，本文从电磁学与光学和视觉生理学的角度出发，对辐射度量学与光度学做简要阐述。这两大学科共同构成了量化光与色觉的基础框架。鉴于色彩理论所涉及之范畴极其广泛，本文仅聚焦辐射度量学和光度学的核心概念，为后续“颜色匹配实验”“三基色理论”“CIE 1931 XYZ 色度图”等内容奠定基础。 本文的前置基知识为：微积分、矩阵理论 辐射度量学与光度学基础辐射度量学与光度学简介辐射度量学（radiometry）主要研究电磁辐射的能量度量与分布规律。电磁辐射涵盖极宽广的波长范围，包括伽马射线、X 射线、紫外光、可见光、红外光、微波与无线电波等。然而，人眼仅能对其中约 390–780 nm 的波段产生视觉感受，故可见光只占整个电磁波谱的极小部分。 光度学（photometry）则侧重研究可见光对人眼视觉系统所带来的主观亮度刺激，因为虽然同为可见光，不同波长对于人眼的刺激也是不同的。 大量实验证明，人眼对 555 $nm$ 单色光（黄绿色）最敏感，若在该波长定义其视觉响应系数为 1，则其他波长光的视见效率可用函数 ($V(\\lambda)$)来表征。 在将物理辐射量换算成人眼主观亮度的过程中，视见函数起到了加权的作用，某种意义上，视见函数构建了联结光度学和辐射度量学的桥梁。 辐射度量学的基本概念为便于后续建模，引入如下概念 **辐射通量($\\varPhi_\\mathrm{R}$) **表示单位时间内穿过某截面的电磁辐射能量，单位为瓦（$W$）：$$\\varPhi_\\mathrm{R} &#x3D; \\frac{\\mathrm{d}Q}{\\mathrm{d}t}$$其中 ($Q$) 代表辐射能量，($t$)为时间。 辐射强度 ($I$)对点状辐射源而言，为在给定方向(单位立体角)上的辐射通量密度，单位为 ($\\mathrm{W&#x2F;sr}$)：$$I &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{R}}{\\mathrm{d}\\varOmega}$$ 辐照度 ($E$)当研究辐射能量如何“照射”到表面时，就引入辐照度：$$E &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{R}}{\\mathrm{d}A}$$其单位为 ($\\mathrm{W&#x2F;m^2}$)。 辐亮度 ($L$)指某表面微元在特定方向的出射辐射强度与其面积正交分量之比：$$L &#x3D; \\frac{\\mathrm{d}I}{\\mathrm{d}A^\\perp}&#x3D; \\frac{\\mathrm{d}^2\\varPhi_\\mathrm{R}}{\\mathrm{d}\\varOmega ,\\mathrm{d}A \\cos\\theta}$$在无能量损耗的理想条件下，沿光线传播方向，辐亮度恒定不变。这一性质常用于图形学渲染算法中的光能传递计算。 注：更深层次地，辐射度量学可追溯至麦克斯韦电磁学原理，将电磁场视为矢量场来分析。但在此处，我们采取几何光学近似，侧重能量“射线”形式即可满足后续色彩模型应用。 光度学的基本概念为便于后续建模，引入如下概念 光通量 ($\\varPhi_\\mathrm{V}$)若某光源在波长 ($\\lambda$) 上辐射通量分布为 ($\\phi_\\mathrm{R}(\\lambda)$)，则其光度学加权形式：$$\\phi_\\mathrm{V}(\\lambda) &#x3D; \\sigma_\\mathrm{m} , V(\\lambda), \\phi_\\mathrm{R}(\\lambda)$$积分得总光通量：$$\\varPhi_\\mathrm{V} &#x3D;\\int_0^\\infty\\sigma_\\mathrm{m},V(\\lambda),\\phi_\\mathrm{R}(\\lambda),\\mathrm{d}\\lambda$$其中 ($\\sigma_\\mathrm{m}\\approx 683,[\\mathrm{lm&#x2F;W}]$)，常称“最大光谱光视效率”系数。 发光强度 ($I_\\mathrm{V}$)对应点光源在单位立体角内的光通量，单位为坎德拉($cd$)。若光源辐射555 nm波长光，功率强度为 ($\\tfrac{1}{683},\\mathrm{W&#x2F;sr}$)，则发光强度为 1 $cd$。 光照度 ($E_\\mathrm{V}$)表示照射在单位面积上的光通量，单位勒克斯($lx$)：$$E_\\mathrm{V} &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{V}}{\\mathrm{d}A}$$ 光亮度 ($L_\\mathrm{V}$)在光度学中，定义与辐亮度平行，只是换成光度学加权：$$L_\\mathrm{V}&#x3D; \\frac{\\mathrm{d}I_\\mathrm{V}}{\\mathrm{d}A^\\perp}&#x3D; \\frac{\\mathrm{d}^2 \\varPhi_\\mathrm{V}}{\\mathrm{d}\\varOmega,\\mathrm{d}A \\cos\\theta}$$单位为 $cd&#x2F;m²$（通常亦称 $nit$）。这在显示器规格中常被提及，例如“500 $nit$”亮度。 Reference 颜色的数学理论I——辐射度量学与光度学基础 - 缺心眼的香菜的文章 - 知乎  Griffiths, David J. Introduction to electrodynamics 3. ed., reprint. with corr. Upper Saddle River, NJ [u.a.]: Prentice-Hall. 1999 [2012-04-06]. ISBN 0-13-805326-X. 维基百科, 自由的百科全书, s.v. “輻照度” (by Wikipedia contributors),  (accessed July 25, 2022). Wikipedia contributors, “Luminous efficiency function,” Wikipedia, The Free Encyclopedia,  (accessed January 22, 2025). CIE. Commission Internationale de l’Éclairage. Colorimetry (CIE 15:2004). Vienna: CIE Central Bureau, 2004. Malacara A. D. Color Vision and Colorimetry: Theory and Applications, Second Edition. SPIE Press, 2011. Marschner S, Shirley P, Ashikhmin M, et al. Fundamentals of Computer Graphics. CRC Press, 2018. "},{"title":"About","date":"2025-01-21T16:18:49.000Z","url":"/about.html","categories":[[" ",""]],"content":"hi👋，我是Strtus 这里是我的知识博客，它独立于个人博客：myblogrsq.cn，我会在这里分享我的学习收获以及见解 这是我第一次搭建纯静态页面，无需经过服务器的编译，可以直接在浏览器上渲染，使用了基于Node.js技术栈的HEXO框架，目前部署于Github Pages上，由Vercel托管并自动从仓库拉取代码进行发布，它足够轻量且很好的支持了markdown和$\\LaTeX$语法 关于我的更多信息，你可以访问这里👇"},{"title":"categories","date":"2025-05-06T08:19:16.000Z","url":"/categories/index.html","categories":[[" ",""]]},{"title":"page","date":"2025-01-21T16:52:37.000Z","url":"/page/index.html","categories":[[" ",""]]},{"title":"tags","date":"2025-01-21T16:27:36.000Z","url":"/tags/index.html","categories":[[" ",""]]},{"title":"search","date":"2025-01-21T16:29:18.000Z","url":"/search/index.html","categories":[[" ",""]]}]