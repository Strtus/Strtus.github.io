[{"title":"色彩科学的数学原理_1.辐射度量学与光度学","date":"2025-01-22T14:00:21.000Z","url":"/2025/01/22/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86-1-%E8%BE%90%E5%B0%84%E5%BA%A6%E9%87%8F%E5%AD%A6%E4%B8%8E%E5%85%89%E5%BA%A6%E5%AD%A6/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":"0. 前言为了系统探讨色度学原理，首先需了解“什么是光？”以及“人眼如何对光产生视觉感知？” 有鉴于此，本文从电磁学与光学和视觉生理学的角度出发，对辐射度量学与光度学做简要阐述。这两大学科共同构成了量化光与色觉的基础框架。鉴于色彩理论所涉及之范畴极其广泛，本文仅聚焦辐射度量学和光度学的核心概念，为后续“颜色匹配实验”“三基色理论”“CIE 1931 XYZ 色度图”等内容奠定基础。 本文的前置基知识为：微积分、矩阵理论 1. 辐射度量学与光度学基础1.1 辐射度量学与光度学简介辐射度量学（radiometry）主要研究电磁辐射的能量度量与分布规律。电磁辐射涵盖极宽广的波长范围，包括伽马射线、X 射线、紫外光、可见光、红外光、微波与无线电波等。然而，人眼仅能对其中约 390–780 nm 的波段产生视觉感受，故可见光只占整个电磁波谱的极小部分。 光度学（photometry）则侧重研究可见光对人眼视觉系统所带来的主观亮度刺激，因为虽然同为可见光，不同波长对于人眼的刺激也是不同的。 大量实验证明，人眼对 555 $nm$ 单色光（黄绿色）最敏感，若在该波长定义其视觉响应系数为 1，则其他波长光的视见效率可用函数 ($V(\\lambda)$)来表征。 在将物理辐射量换算成人眼主观亮度的过程中，视见函数起到了加权的作用，某种意义上，视见函数构建了联结光度学和辐射度量学的桥梁。 1.2 辐射度量学的基本概念为便于后续建模，引入如下概念 **辐射通量($\\varPhi_\\mathrm{R}$) **表示单位时间内穿过某截面的电磁辐射能量，单位为瓦（$W$）：$$\\varPhi_\\mathrm{R} &#x3D; \\frac{\\mathrm{d}Q}{\\mathrm{d}t}$$其中 ($Q$) 代表辐射能量，($t$)为时间。 辐射强度 ($I$)对点状辐射源而言，为在给定方向(单位立体角)上的辐射通量密度，单位为 ($\\mathrm{W&#x2F;sr}$)：$$I &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{R}}{\\mathrm{d}\\varOmega}$$ 辐照度 ($E$)当研究辐射能量如何“照射”到表面时，就引入辐照度：$$E &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{R}}{\\mathrm{d}A}$$其单位为 ($\\mathrm{W&#x2F;m^2}$)。 辐亮度 ($L$)指某表面微元在特定方向的出射辐射强度与其面积正交分量之比：$$L &#x3D; \\frac{\\mathrm{d}I}{\\mathrm{d}A^\\perp}&#x3D; \\frac{\\mathrm{d}^2\\varPhi_\\mathrm{R}}{\\mathrm{d}\\varOmega ,\\mathrm{d}A \\cos\\theta}$$在无能量损耗的理想条件下，沿光线传播方向，辐亮度恒定不变。这一性质常用于图形学渲染算法中的光能传递计算。 注：更深层次地，辐射度量学可追溯至麦克斯韦电磁学原理，将电磁场视为矢量场来分析。但在此处，我们采取几何光学近似，侧重能量“射线”形式即可满足后续色彩模型应用。 2.3 光度学的基本概念为便于后续建模，引入如下概念 光通量 ($\\varPhi_\\mathrm{V}$)若某光源在波长 ($\\lambda$) 上辐射通量分布为 ($\\phi_\\mathrm{R}(\\lambda)$)，则其光度学加权形式：$$\\phi_\\mathrm{V}(\\lambda) &#x3D; \\sigma_\\mathrm{m} , V(\\lambda), \\phi_\\mathrm{R}(\\lambda)$$积分得总光通量：$$\\varPhi_\\mathrm{V} &#x3D;\\int_0^\\infty\\sigma_\\mathrm{m},V(\\lambda),\\phi_\\mathrm{R}(\\lambda),\\mathrm{d}\\lambda$$其中 ($\\sigma_\\mathrm{m}\\approx 683,[\\mathrm{lm&#x2F;W}]$)，常称“最大光谱光视效率”系数。 发光强度 ($I_\\mathrm{V}$)对应点光源在单位立体角内的光通量，单位为坎德拉($cd$)。若光源辐射555 nm波长光，功率强度为 ($\\tfrac{1}{683},\\mathrm{W&#x2F;sr}$)，则发光强度为 1 $cd$。 光照度 ($E_\\mathrm{V}$)表示照射在单位面积上的光通量，单位勒克斯($lx$)：$$E_\\mathrm{V} &#x3D; \\frac{\\mathrm{d}\\varPhi_\\mathrm{V}}{\\mathrm{d}A}$$ 光亮度 ($L_\\mathrm{V}$)在光度学中，定义与辐亮度平行，只是换成光度学加权：$$L_\\mathrm{V}&#x3D; \\frac{\\mathrm{d}I_\\mathrm{V}}{\\mathrm{d}A^\\perp}&#x3D; \\frac{\\mathrm{d}^2 \\varPhi_\\mathrm{V}}{\\mathrm{d}\\varOmega,\\mathrm{d}A \\cos\\theta}$$单位为 $cd&#x2F;m²$（通常亦称 $nit$）。这在显示器规格中常被提及，例如“500 $nit$”亮度。 2.Reference 颜色的数学理论I——辐射度量学与光度学基础 - 缺心眼的香菜的文章 - 知乎  Griffiths, David J. Introduction to electrodynamics 3. ed., reprint. with corr. Upper Saddle River, NJ [u.a.]: Prentice-Hall. 1999 [2012-04-06]. ISBN 0-13-805326-X. 维基百科, 自由的百科全书, s.v. “輻照度” (by Wikipedia contributors),  (accessed July 25, 2022). Wikipedia contributors, “Luminous efficiency function,” Wikipedia, The Free Encyclopedia,  (accessed January 22, 2025). CIE. Commission Internationale de l’Éclairage. Colorimetry (CIE 15:2004). Vienna: CIE Central Bureau, 2004. Malacara A. D. Color Vision and Colorimetry: Theory and Applications, Second Edition. SPIE Press, 2011. Marschner S, Shirley P, Ashikhmin M, et al. Fundamentals of Computer Graphics. CRC Press, 2018. "},{"title":"色彩科学的数学原理_2.色彩空间","date":"2025-01-20T09:03:02.000Z","url":"/2025/01/20/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86_2.%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4/","tags":[["色彩科学","/tags/%E8%89%B2%E5%BD%A9%E7%A7%91%E5%AD%A6/"]],"categories":[[" ",""]],"content":"编辑中学过大雾后我们会知道，颜色并不是物体本身所具备的固有属性，而是光线在特定波长下的反射或发射所引起的视觉反应。这种视觉反应通过眼睛中的视锥细胞( cone cell )捕捉，并由大脑进行解读，最终呈现为我们所感知到的颜色。 1.1 三色刺激值人类眼睛有对于短（S, 420-440nm）、中（M, 530-540nm）和长（L, 560-580nm）波长的光感受器（称为视锥细胞，需要注意的是，人类尚有一单色的夜视光感测器—视杆细胞—其最敏感的感知频谱范围约在490-495nm）。因此，根据三种视锥细胞的刺激比例，便能描述任一种颜色的感觉，此称为LMS空间。 色彩空间指的是用一种客观的方式叙述颜色在人眼上的感觉，通常需要三色刺激值。更精确地说，首先先定义三种主要颜色（primary color），再利用颜色叠加模型，即可叙述各种颜色。需要注意的是，三种主要颜色未必需要是真正的颜色（也就是该种颜色无法真的被创造出来）。 在三色加色法模型中，如果某一种颜色和另一种混合了不同分量的三种原色的颜色，均使人类看上去是相同的话，我们把这三种原色的分量称作该颜色的三色刺激值。 1.2 色彩空间色彩空间是指任何一种替每个颜色关联到三个数（或三色刺激值）的方法 在颜色感知的研究中，CIE 1931 XYZ色彩空间（是其中一个最先采用数学方式来定义的色彩空间，它由国际照明委员会（CIE）于1931年创立。CIE XYZ色彩空间是基于人类颜色视觉的直接测定，并充当很多其他色彩空间的定义基础。 在CIE XYZ色彩空间中，三色刺激值并不是指人类眼睛对短、中和长波（S、M和L）的反应，而是一组称为X、Y和Z的值，约略对应于红色、绿色和蓝色（但要留意X、Y和Z值并不是真的看起来是红、绿和蓝色，而是从红色、绿色和蓝色导出来的参数），并使用CIE 1931 XYZ颜色匹配函数来计算。两个由多种不同波长的光混合而成的光源可以表现出同样的颜色，这叫做“同色异谱”（metamerism）。当两个光源对标准观察者（CIE 1931标准色度观察者）有相同的视现颜色的时候，它们即有相同的三色刺激值，而不管生成它们的光的光谱分布如何。 1.2 表征眼睛敏感度的颜色匹配函数 因为人类眼睛有响应不同波长范围的三种类型的颜色传感器，所有可视颜色的完整绘图是三维的。但是颜色的概念可以分为两部分：明度和色度。例如，白色是明亮的颜色，而灰色被认为是不太亮的白色。换句话说，白色和灰色的色度是一样的，而明度不同。 CIE Yxy色彩空间故意设计得Y参数是颜色的明度或亮度的测量。颜色的色度接着通过两个导出参数x和y来指定，它们是所有三个三色刺激值X、Y和Z的函数所规范化的三个值中的两个： 三种CIE颜色匹配函数（CMF）分别被称为Xbar、Ybar和Zbar。在实际的颜色匹配和显示应用中，这些函数可以近似为人眼视锥细胞的光谱响应曲线。（实际的眼部响应曲线略有不同，但它们在数学上是紧密相关的。）虽然由于它们具有较宽的带宽并且相互之间有显著的重叠（尤其是X和Y之间的重叠），我们常常把X、Y和Z分别当作红、绿、蓝来理解，但这只是一个粗略的近似。此外，X（红色）函数在可见光谱的短波段还具有一个次波瓣。 需要注意的是，由于这些函数之间的重叠，它们并不是完全独立的激发通道，也就是说，没有任何一个物理光源能够单独激发某一个通道，同时保持另外两个通道的刺激为零（尽管通过使用长波长的红光刺激X通道时，可以接近实现这一点）。 “颜色”是由眼睛XYZ通道的相对刺激来定义的（实际的数值决定了亮度或强度）。因此，定义颜色时通常使用一个规范化的xyz三元组，这些三元组是XYZ的标准化版本： $$x &#x3D; \\frac{X}{X + Y + Z}$$ $$y &#x3D; \\frac{Y}{X + Y + Z}$$ $$z &#x3D; \\frac{Z}{X + Y + Z}$$ 根据定义，我们有$x + y + z &#x3D; 1$。因此，只需要两个xyz坐标，就能唯一确定一种颜色。 X和Z三色刺激值可以从色度值x和y与Y三色刺激值计算回来： $$X &#x3D; \\frac{Y}{y} x$$ $$Z &#x3D; \\frac{Y}{y} (1 - x - y)$$ 下图为相对色度图，外侧曲线边界是光谱轨迹，波长用纳米标记。注意这个色度图是指定人类眼睛如何体验给定频谱的光的工具。它不能指定物体的颜色（或印刷墨水），因为在观察物体的时候看到的色度还依赖于光源。 数学上，x和y是投影坐标，色度图的颜色占据了实投影平面的一个区域。 色度图展示了CIE XYZ色彩空间一些有趣性质： 色度图展示了对一般人可见的所有色度。这个用颜色展示的区域叫做人类视觉的色域。在CIE绘图上所有可见色度的色域是用颜色展示的马蹄铁形状。色域的曲线边界叫做“光谱轨迹”并对应于单色光，波长用纳米标记。色域底下的直线边界叫做“紫线”，这些颜色尽管在色域的边界上，但没有匹配的单色光。更少饱和的颜色位于图形内部而白色位于中央。 所有可见色度对应于x、y和z的非负值（因此对应于X、Y和Z的非负值）。 如果你在色度图上选择了任何两点，则位于这两点之间直线上任何颜色都可以用这两个颜色混合出来。这得出了色域的形状必定是凸形的。混合三个光源形成的所有颜色都可以在色度图内的源点形成的三角形内找到（对于多个光源也如是）。 两个同等明亮颜色的等量混合一般不位于这个线段的中点。用更一般术语说，在xy色度图上距离不对应于两种颜色之间的差别程度。设计了其他色彩空间（特别是CIELuv和CIELab）来满足这个问题。 给定三个真实光源，这些光源不能覆盖人类视觉的色域。几何上说，在色域中没有三个点可以形成包括整个色域的三角形，更简单的说，人类视觉的色域不是三角形。 平直能量频谱的光对应于点 $(x, y) &#x3D; (1&#x2F;3, 1&#x2F;3)$。 "},{"title":"page","date":"2025-01-21T16:52:37.000Z","url":"/page/index.html","categories":[[" ",""]]},{"title":"tags","date":"2025-01-21T16:27:36.000Z","url":"/tags/index.html","categories":[[" ",""]]},{"title":"search","date":"2025-01-21T16:29:18.000Z","url":"/search/index.html","categories":[[" ",""]]},{"title":"About","date":"2025-01-21T16:18:49.000Z","url":"/about.html","categories":[[" ",""]],"content":"hi👋，我是Strtus 这里是我的知识博客，它独立于个人博客：myblogrsq.cn，我会在这里分享我的学习收获以及见解 这是我第一次搭建纯静态页面，无需经过服务器的编译，可以直接在浏览器上渲染，使用了基于Node.js技术栈的HEXO框架，目前部署于Github Pages上，由Vercel托管并自动从仓库拉取代码进行发布，它足够轻量且很好的支持了markdown和$\\LaTeX$语法 关于我的更多信息，你可以访问这里👇"}]